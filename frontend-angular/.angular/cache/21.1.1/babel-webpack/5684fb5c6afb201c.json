{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/state.service\";\nimport * as i2 from \"@angular/common\";\nfunction MeasurementDisplayComponent_div_4_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const polyline_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(polyline_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 3, polyline_r1.length_ft, \"1.2-2\"), \" ft\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", polyline_r1.points.length, \" points\");\n  }\n}\nfunction MeasurementDisplayComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 5);\n    i0.ɵɵtext(2, \"Routes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, MeasurementDisplayComponent_div_4_div_3_Template, 9, 6, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.polylines);\n  }\n}\nfunction MeasurementDisplayComponent_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const marker_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(marker_r3.marker_type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Position: (\", i0.ɵɵpipeBind2(6, 3, marker_r3.x, \"1.1-1\"), \", \", i0.ɵɵpipeBind2(7, 6, marker_r3.y, \"1.1-1\"), \")\");\n  }\n}\nfunction MeasurementDisplayComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 5);\n    i0.ɵɵtext(2, \"Markers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, MeasurementDisplayComponent_div_5_div_3_Template, 8, 9, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.markers);\n  }\n}\nfunction MeasurementDisplayComponent_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const conduit_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(3, 1, conduit_r4.footage, \"1.1-1\"), \" ft\");\n  }\n}\nfunction MeasurementDisplayComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 5);\n    i0.ɵɵtext(2, \"Conduits\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, MeasurementDisplayComponent_div_6_div_3_Template, 4, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.conduits);\n  }\n}\nfunction MeasurementDisplayComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"p\", 11)(2, \"strong\");\n    i0.ɵɵtext(3, \"Total Length:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 1, ctx_r1.totalLength, \"1.2-2\"), \" ft\");\n  }\n}\nexport class MeasurementDisplayComponent {\n  constructor(stateService) {\n    this.stateService = stateService;\n    this.projectId = null;\n    this.polylines = [];\n    this.markers = [];\n    this.conduits = [];\n    this.totalLength = 0;\n  }\n  ngOnInit() {\n    this.stateService.polylines$.subscribe(polylines => {\n      this.polylines = polylines;\n      this.totalLength = polylines.reduce((sum, p) => sum + (p.length_ft || 0), 0);\n    });\n    this.stateService.markers$.subscribe(markers => {\n      this.markers = markers;\n    });\n    this.stateService.conduits$.subscribe(conduits => {\n      this.conduits = conduits;\n    });\n  }\n  static {\n    this.ɵfac = function MeasurementDisplayComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MeasurementDisplayComponent)(i0.ɵɵdirectiveInject(i1.StateService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MeasurementDisplayComponent,\n      selectors: [[\"app-measurement-display\"]],\n      inputs: {\n        projectId: \"projectId\"\n      },\n      decls: 8,\n      vars: 4,\n      consts: [[1, \"space-y-4\"], [1, \"text-lg\", \"font-semibold\"], [1, \"space-y-3\"], [4, \"ngIf\"], [\"class\", \"p-3 bg-blue-50 border border-blue-200 rounded\", 4, \"ngIf\"], [1, \"font-medium\"], [\"class\", \"p-2 bg-gray-50 rounded text-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-2\", \"bg-gray-50\", \"rounded\", \"text-sm\"], [1, \"text-gray-600\"], [1, \"text-xs\", \"text-gray-500\"], [1, \"p-3\", \"bg-blue-50\", \"border\", \"border-blue-200\", \"rounded\"], [1, \"text-sm\"]],\n      template: function MeasurementDisplayComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2, \"Measurements\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2);\n          i0.ɵɵtemplate(4, MeasurementDisplayComponent_div_4_Template, 4, 1, \"div\", 3)(5, MeasurementDisplayComponent_div_5_Template, 4, 1, \"div\", 3)(6, MeasurementDisplayComponent_div_6_Template, 4, 1, \"div\", 3)(7, MeasurementDisplayComponent_div_7_Template, 6, 4, \"div\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.polylines.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.markers.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.conduits.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.totalLength > 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","polyline_r1","name","ɵɵtextInterpolate1","ɵɵpipeBind2","length_ft","points","length","ɵɵtemplate","MeasurementDisplayComponent_div_4_div_3_Template","ɵɵproperty","ctx_r1","polylines","marker_r3","marker_type","ɵɵtextInterpolate2","x","y","MeasurementDisplayComponent_div_5_div_3_Template","markers","conduit_r4","footage","MeasurementDisplayComponent_div_6_div_3_Template","conduits","totalLength","MeasurementDisplayComponent","constructor","stateService","projectId","ngOnInit","polylines$","subscribe","reduce","sum","p","markers$","conduits$","ɵɵdirectiveInject","i1","StateService","selectors","inputs","decls","vars","consts","template","MeasurementDisplayComponent_Template","rf","ctx","MeasurementDisplayComponent_div_4_Template","MeasurementDisplayComponent_div_5_Template","MeasurementDisplayComponent_div_6_Template","MeasurementDisplayComponent_div_7_Template","i2","NgForOf","NgIf","DecimalPipe","encapsulation"],"sources":["/home/dfirth2/fiber_route_calculator/frontend-angular/src/app/components/measurement-display/measurement-display.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StateService } from '../../core/services/state.service';\n\n@Component({\n  selector: 'app-measurement-display',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"space-y-4\">\n      <h3 class=\"text-lg font-semibold\">Measurements</h3>\n      \n      <div class=\"space-y-3\">\n        <div *ngIf=\"polylines.length > 0\">\n          <h4 class=\"font-medium\">Routes</h4>\n          <div *ngFor=\"let polyline of polylines\" class=\"p-2 bg-gray-50 rounded text-sm\">\n            <p><strong>{{ polyline.name }}</strong></p>\n            <p class=\"text-gray-600\">{{ polyline.length_ft | number:'1.2-2' }} ft</p>\n            <p class=\"text-xs text-gray-500\">{{ polyline.points.length }} points</p>\n          </div>\n        </div>\n\n        <div *ngIf=\"markers.length > 0\">\n          <h4 class=\"font-medium\">Markers</h4>\n          <div *ngFor=\"let marker of markers\" class=\"p-2 bg-gray-50 rounded text-sm\">\n            <p><strong>{{ marker.marker_type }}</strong></p>\n            <p class=\"text-gray-600\">Position: ({{ marker.x | number:'1.1-1' }}, {{ marker.y | number:'1.1-1' }})</p>\n          </div>\n        </div>\n\n        <div *ngIf=\"conduits.length > 0\">\n          <h4 class=\"font-medium\">Conduits</h4>\n          <div *ngFor=\"let conduit of conduits\" class=\"p-2 bg-gray-50 rounded text-sm\">\n            <p class=\"text-gray-600\">{{ conduit.footage | number:'1.1-1' }} ft</p>\n          </div>\n        </div>\n\n        <div *ngIf=\"totalLength > 0\" class=\"p-3 bg-blue-50 border border-blue-200 rounded\">\n          <p class=\"text-sm\"><strong>Total Length:</strong> {{ totalLength | number:'1.2-2' }} ft</p>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class MeasurementDisplayComponent implements OnInit {\n  @Input() projectId: number | null = null;\n\n  polylines: any[] = [];\n  markers: any[] = [];\n  conduits: any[] = [];\n  totalLength = 0;\n\n  constructor(private stateService: StateService) {}\n\n  ngOnInit() {\n    this.stateService.polylines$.subscribe((polylines) => {\n      this.polylines = polylines;\n      this.totalLength = polylines.reduce((sum, p) => sum + (p.length_ft || 0), 0);\n    });\n\n    this.stateService.markers$.subscribe((markers) => {\n      this.markers = markers;\n    });\n\n    this.stateService.conduits$.subscribe((conduits) => {\n      this.conduits = conduits;\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}