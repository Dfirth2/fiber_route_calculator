{"ast":null,"code":"import _asyncToGenerator from \"/home/dfirth2/fiber_route_calculator/frontend-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/**\n * @license Angular v21.1.1\n * (c) 2010-2026 Google LLC. https://angular.dev/\n * License: MIT\n */\n\nimport { DOCUMENT, Location } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ɵisPromise as _isPromise, computed, ɵRuntimeError as _RuntimeError, Injectable, InjectionToken, EventEmitter, input, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, reflectComponentType, Component, runInInjectionContext, ɵisInjectable as _isInjectable, ɵisNgModule as _isNgModule, isStandalone, createEnvironmentInjector, Compiler, NgModuleFactory, ɵresolveComponentResources as _resolveComponentResources, afterNextRender, signal, EnvironmentInjector, DestroyRef, untracked, ɵConsole as _Console, ɵPendingTasksInternal as _PendingTasksInternal, ɵINTERNAL_APPLICATION_ERROR_HANDLER as _INTERNAL_APPLICATION_ERROR_HANDLER, ɵformatRuntimeError as _formatRuntimeError } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, Observable, concat, defer, pipe, EMPTY, throwError, Subject, Subscription } from 'rxjs';\nimport { first, map, switchMap, take, startWith, filter, takeUntil, mergeMap, concatMap, tap, takeLast, catchError, finalize } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\nconst PRIMARY_OUTLET = 'primary';\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  params;\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\nfunction matchParts(routeParts, urlSegments, posParams) {\n  for (let i = 0; i < routeParts.length; i++) {\n    const part = routeParts[i];\n    const segment = urlSegments[i];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  const wildcardIndex = parts.indexOf('**');\n  if (wildcardIndex === -1) {\n    if (parts.length > segments.length) {\n      return null;\n    }\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n      return null;\n    }\n    const posParams = {};\n    const consumed = segments.slice(0, parts.length);\n    if (!matchParts(parts, consumed, posParams)) {\n      return null;\n    }\n    return {\n      consumed,\n      posParams\n    };\n  }\n  if (wildcardIndex !== parts.lastIndexOf('**')) {\n    return null;\n  }\n  const pre = parts.slice(0, wildcardIndex);\n  const post = parts.slice(wildcardIndex + 1);\n  if (pre.length + post.length > segments.length) {\n    return null;\n  }\n  if (route.pathMatch === 'full' && segmentGroup.hasChildren() && route.path !== '**') {\n    return null;\n  }\n  const posParams = {};\n  if (!matchParts(pre, segments.slice(0, pre.length), posParams)) {\n    return null;\n  }\n  if (!matchParts(post, segments.slice(segments.length - post.length), posParams)) {\n    return null;\n  }\n  return {\n    consumed: segments,\n    posParams\n  };\n}\nfunction firstValueFrom(source) {\n  return new Promise((resolve, reject) => {\n    source.pipe(first()).subscribe({\n      next: value => resolve(value),\n      error: err => reject(err)\n    });\n  });\n}\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (_isPromise(value)) {\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nfunction wrapIntoPromise(value) {\n  if (isObservable(value)) {\n    return firstValueFrom(value);\n  }\n  return Promise.resolve(value);\n}\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction isActive(url, router, matchOptions) {\n  const urlTree = url instanceof UrlTree ? url : router.parseUrl(url);\n  return computed(() => containsTree(router.lastSuccessfulNavigation()?.finalUrl ?? new UrlTree(), urlTree, matchOptions));\n}\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\nclass UrlTree {\n  root;\n  queryParams;\n  fragment;\n  _queryParamMap;\n  constructor(root = new UrlSegmentGroup([], {}), queryParams = {}, fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new _RuntimeError(4015, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\nclass UrlSegmentGroup {\n  segments;\n  children;\n  parent = null;\n  constructor(segments, children) {\n    this.segments = segments;\n    this.children = children;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  toString() {\n    return serializePaths(this);\n  }\n}\nclass UrlSegment {\n  path;\n  parameters;\n  _parameterMap;\n  constructor(path, parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\nclass UrlSerializer {\n  static ɵfac = function UrlSerializer_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || UrlSerializer)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: UrlSerializer,\n    factory: () => (() => new DefaultUrlSerializer())(),\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UrlSerializer, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => new DefaultUrlSerializer()\n    }]\n  }], null, null);\n})();\nclass DefaultUrlSerializer {\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  url;\n  remaining;\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new _RuntimeError(4009, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      params[decodedKey] = decodedVal;\n    }\n  }\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new _RuntimeError(4010, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName ?? PRIMARY_OUTLET] = Object.keys(children).length === 1 && children[PRIMARY_OUTLET] ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new _RuntimeError(4011, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null, urlSerializer = new DefaultUrlSerializer()) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment, urlSerializer);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment, urlSerializer) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment, urlSerializer);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment, urlSerializer);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction normalizeQueryParams(k, v, urlSerializer) {\n  k ||= 'ɵ';\n  const tree = new UrlTree();\n  tree.queryParams = {\n    [k]: v\n  };\n  return urlSerializer.parse(urlSerializer.serialize(tree)).queryParams[k];\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer) {\n  const qp = {};\n  for (const [key, value] of Object.entries(queryParams ?? {})) {\n    qp[key] = Array.isArray(value) ? value.map(v => normalizeQueryParams(key, v, urlSerializer)) : normalizeQueryParams(key, value, urlSerializer);\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  isAbsolute;\n  numberOfDoubleDots;\n  commands;\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new _RuntimeError(4003, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new _RuntimeError(4004, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') ;else if (partIndex == 0 && urlPart === '') {\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  segmentGroup;\n  processChildren;\n  index;\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new _RuntimeError(4005, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\nconst IMPERATIVE_NAVIGATION = 'imperative';\nvar EventType;\n(function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n})(EventType || (EventType = {}));\nclass RouterEvent {\n  id;\n  url;\n  constructor(id, url) {\n    this.id = id;\n    this.url = url;\n  }\n}\nclass NavigationStart extends RouterEvent {\n  type = EventType.NavigationStart;\n  navigationTrigger;\n  restoredState;\n  constructor(id, url, navigationTrigger = 'imperative', restoredState = null) {\n    super(id, url);\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationEnd extends RouterEvent {\n  urlAfterRedirects;\n  type = EventType.NavigationEnd;\n  constructor(id, url, urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n  }\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\nvar NavigationCancellationCode;\n(function (NavigationCancellationCode) {\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  NavigationCancellationCode[NavigationCancellationCode[\"Aborted\"] = 4] = \"Aborted\";\n})(NavigationCancellationCode || (NavigationCancellationCode = {}));\nvar NavigationSkippedCode;\n(function (NavigationSkippedCode) {\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n})(NavigationSkippedCode || (NavigationSkippedCode = {}));\nclass NavigationCancel extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationCancel;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nfunction isRedirectingEvent(event) {\n  return event instanceof NavigationCancel && (event.code === NavigationCancellationCode.Redirect || event.code === NavigationCancellationCode.SupersededByNewNavigation);\n}\nclass NavigationSkipped extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationSkipped;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n}\nclass NavigationError extends RouterEvent {\n  error;\n  target;\n  type = EventType.NavigationError;\n  constructor(id, url, error, target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n  }\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\nclass RoutesRecognized extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.RoutesRecognized;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.GuardsCheckStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  shouldActivate;\n  type = EventType.GuardsCheckEnd;\n  constructor(id, url, urlAfterRedirects, state, shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\nclass ResolveStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass ResolveEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveEnd;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass RouteConfigLoadStart {\n  route;\n  type = EventType.RouteConfigLoadStart;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\nclass RouteConfigLoadEnd {\n  route;\n  type = EventType.RouteConfigLoadEnd;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\nclass ChildActivationStart {\n  snapshot;\n  type = EventType.ChildActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\nclass ChildActivationEnd {\n  snapshot;\n  type = EventType.ChildActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\nclass ActivationStart {\n  snapshot;\n  type = EventType.ActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\nclass ActivationEnd {\n  snapshot;\n  type = EventType.ActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\nclass Scroll {\n  routerEvent;\n  position;\n  anchor;\n  scrollBehavior;\n  type = EventType.Scroll;\n  constructor(routerEvent, position, anchor, scrollBehavior) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n    this.scrollBehavior = scrollBehavior;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  url;\n  navigationBehaviorOptions;\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\nclass OutletContext {\n  rootInjector;\n  outlet = null;\n  route = null;\n  children;\n  attachRef = null;\n  get injector() {\n    return this.route?.snapshot._environmentInjector ?? this.rootInjector;\n  }\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n    this.children = new ChildrenOutletContexts(this.rootInjector);\n  }\n}\nclass ChildrenOutletContexts {\n  rootInjector;\n  contexts = new Map();\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n  }\n  onChildOutletCreated(childName, outlet) {\n    const context = this.getOrCreateContext(childName);\n    context.outlet = outlet;\n    this.contexts.set(childName, context);\n  }\n  onChildOutletDestroyed(childName) {\n    const context = this.getContext(childName);\n    if (context) {\n      context.outlet = null;\n      context.attachRef = null;\n    }\n  }\n  onOutletDeactivated() {\n    const contexts = this.contexts;\n    this.contexts = new Map();\n    return contexts;\n  }\n  onOutletReAttached(contexts) {\n    this.contexts = contexts;\n  }\n  getOrCreateContext(childName) {\n    let context = this.getContext(childName);\n    if (!context) {\n      context = new OutletContext(this.rootInjector);\n      this.contexts.set(childName, context);\n    }\n    return context;\n  }\n  getContext(childName) {\n    return this.contexts.get(childName) || null;\n  }\n  static ɵfac = function ChildrenOutletContexts_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ChildrenOutletContexts)(i0.ɵɵinject(i0.EnvironmentInjector));\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ChildrenOutletContexts,\n    factory: ChildrenOutletContexts.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ChildrenOutletContexts, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i0.EnvironmentInjector\n  }], null);\n})();\nclass Tree {\n  _root;\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  value;\n  children;\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\nclass RouterState extends Tree {\n  snapshot;\n  constructor(root, snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent, injector) {\n  const snapshot = createEmptyStateSnapshot(rootComponent, injector);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent, injector) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {}, injector);\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\nclass ActivatedRoute {\n  urlSubject;\n  paramsSubject;\n  queryParamsSubject;\n  fragmentSubject;\n  dataSubject;\n  outlet;\n  component;\n  snapshot;\n  _futureSnapshot;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  title;\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  constructor(urlSubject, paramsSubject, queryParamsSubject, fragmentSubject, dataSubject, outlet, component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' || routeConfig?.path === '' || !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...parent.data,\n        ...routeConfig?.data,\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\nclass ActivatedRouteSnapshot {\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  outlet;\n  component;\n  routeConfig;\n  _resolve;\n  _resolvedData;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  _environmentInjector;\n  get title() {\n    return this.data?.[RouteTitleKey];\n  }\n  constructor(url, params, queryParams, fragment, data, outlet, component, routeConfig, resolve, environmentInjector) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n    this._environmentInjector = environmentInjector;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\nclass RouterStateSnapshot extends Tree {\n  url;\n  constructor(url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\nconst ROUTER_OUTLET_DATA = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RouterOutlet data' : '');\nclass RouterOutlet {\n  activated = null;\n  get activatedComponentRef() {\n    return this.activated;\n  }\n  _activatedRoute = null;\n  name = PRIMARY_OUTLET;\n  activateEvents = new EventEmitter();\n  deactivateEvents = new EventEmitter();\n  attachEvents = new EventEmitter();\n  detachEvents = new EventEmitter();\n  routerOutletData = input(...(ngDevMode ? [undefined, {\n    debugName: \"routerOutletData\"\n  }] : []));\n  parentContexts = inject(ChildrenOutletContexts);\n  location = inject(ViewContainerRef);\n  changeDetector = inject(ChangeDetectorRef);\n  inputBinder = inject(INPUT_BINDER, {\n    optional: true\n  });\n  supportsBindingToComponentInputs = true;\n  ngOnChanges(changes) {\n    if (changes['name']) {\n      const {\n        firstChange,\n        previousValue\n      } = changes['name'];\n      if (firstChange) {\n        return;\n      }\n      if (this.isTrackedInParentContexts(previousValue)) {\n        this.deactivate();\n        this.parentContexts.onChildOutletDestroyed(previousValue);\n      }\n      this.initializeOutletWithName();\n    }\n  }\n  ngOnDestroy() {\n    if (this.isTrackedInParentContexts(this.name)) {\n      this.parentContexts.onChildOutletDestroyed(this.name);\n    }\n    this.inputBinder?.unsubscribeFromRouteData(this);\n  }\n  isTrackedInParentContexts(outletName) {\n    return this.parentContexts.getContext(outletName)?.outlet === this;\n  }\n  ngOnInit() {\n    this.initializeOutletWithName();\n  }\n  initializeOutletWithName() {\n    this.parentContexts.onChildOutletCreated(this.name, this);\n    if (this.activated) {\n      return;\n    }\n    const context = this.parentContexts.getContext(this.name);\n    if (context?.route) {\n      if (context.attachRef) {\n        this.attach(context.attachRef, context.route);\n      } else {\n        this.activateWith(context.route, context.injector);\n      }\n    }\n  }\n  get isActivated() {\n    return !!this.activated;\n  }\n  get component() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this.activated.instance;\n  }\n  get activatedRoute() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this._activatedRoute;\n  }\n  get activatedRouteData() {\n    if (this._activatedRoute) {\n      return this._activatedRoute.snapshot.data;\n    }\n    return {};\n  }\n  detach() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    this.location.detach();\n    const cmp = this.activated;\n    this.activated = null;\n    this._activatedRoute = null;\n    this.detachEvents.emit(cmp.instance);\n    return cmp;\n  }\n  attach(ref, activatedRoute) {\n    this.activated = ref;\n    this._activatedRoute = activatedRoute;\n    this.location.insert(ref.hostView);\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.attachEvents.emit(ref.instance);\n  }\n  deactivate() {\n    if (this.activated) {\n      const c = this.component;\n      this.activated.destroy();\n      this.activated = null;\n      this._activatedRoute = null;\n      this.deactivateEvents.emit(c);\n    }\n  }\n  activateWith(activatedRoute, environmentInjector) {\n    if (this.isActivated) {\n      throw new _RuntimeError(4013, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n    }\n    this._activatedRoute = activatedRoute;\n    const location = this.location;\n    const snapshot = activatedRoute.snapshot;\n    const component = snapshot.component;\n    const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n    const injector = new OutletInjector(activatedRoute, childContexts, location.injector, this.routerOutletData);\n    this.activated = location.createComponent(component, {\n      index: location.length,\n      injector,\n      environmentInjector: environmentInjector\n    });\n    this.changeDetector.markForCheck();\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.activateEvents.emit(this.activated.instance);\n  }\n  static ɵfac = function RouterOutlet_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || RouterOutlet)();\n  };\n  static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: RouterOutlet,\n    selectors: [[\"router-outlet\"]],\n    inputs: {\n      name: \"name\",\n      routerOutletData: [1, \"routerOutletData\"]\n    },\n    outputs: {\n      activateEvents: \"activate\",\n      deactivateEvents: \"deactivate\",\n      attachEvents: \"attach\",\n      detachEvents: \"detach\"\n    },\n    exportAs: [\"outlet\"],\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RouterOutlet, [{\n    type: Directive,\n    args: [{\n      selector: 'router-outlet',\n      exportAs: 'outlet'\n    }]\n  }], null, {\n    name: [{\n      type: Input\n    }],\n    activateEvents: [{\n      type: Output,\n      args: ['activate']\n    }],\n    deactivateEvents: [{\n      type: Output,\n      args: ['deactivate']\n    }],\n    attachEvents: [{\n      type: Output,\n      args: ['attach']\n    }],\n    detachEvents: [{\n      type: Output,\n      args: ['detach']\n    }],\n    routerOutletData: [{\n      type: i0.Input,\n      args: [{\n        isSignal: true,\n        alias: \"routerOutletData\",\n        required: false\n      }]\n    }]\n  });\n})();\nclass OutletInjector {\n  route;\n  childContexts;\n  parent;\n  outletData;\n  constructor(route, childContexts, parent, outletData) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n    this.outletData = outletData;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    if (token === ROUTER_OUTLET_DATA) {\n      return this.outletData;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'Router Input Binder' : '');\nclass RoutedComponentInputBinder {\n  outletDataSubscriptions = new Map();\n  bindActivatedRouteToOutletComponent(outlet) {\n    this.unsubscribeFromRouteData(outlet);\n    this.subscribeToRouteData(outlet);\n  }\n  unsubscribeFromRouteData(outlet) {\n    this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n    this.outletDataSubscriptions.delete(outlet);\n  }\n  subscribeToRouteData(outlet) {\n    const {\n      activatedRoute\n    } = outlet;\n    const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n      data = {\n        ...queryParams,\n        ...params,\n        ...data\n      };\n      if (index === 0) {\n        return of(data);\n      }\n      return Promise.resolve(data);\n    })).subscribe(data => {\n      if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      const mirror = reflectComponentType(activatedRoute.component);\n      if (!mirror) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      for (const {\n        templateName\n      } of mirror.inputs) {\n        outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n      }\n    });\n    this.outletDataSubscriptions.set(outlet, dataSubscription);\n  }\n  static ɵfac = function RoutedComponentInputBinder_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || RoutedComponentInputBinder)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: RoutedComponentInputBinder,\n    factory: RoutedComponentInputBinder.ɵfac\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RoutedComponentInputBinder, [{\n    type: Injectable\n  }], null, null);\n})();\nclass ɵEmptyOutletComponent {\n  static ɵfac = function ɵEmptyOutletComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ɵEmptyOutletComponent)();\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ɵEmptyOutletComponent,\n    selectors: [[\"ng-component\"]],\n    exportAs: [\"emptyRouterOutlet\"],\n    decls: 1,\n    vars: 0,\n    template: function _EmptyOutletComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"router-outlet\");\n      }\n    },\n    dependencies: [RouterOutlet],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ɵEmptyOutletComponent, [{\n    type: Component,\n    args: [{\n      template: `<router-outlet />`,\n      imports: [RouterOutlet],\n      exportAs: 'emptyRouterOutlet'\n    }]\n  }], null, null);\n})();\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\nclass RedirectCommand {\n  redirectTo;\n  navigationBehaviorOptions;\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\nlet warnedAboutUnsupportedInputBinding = false;\nclass ActivateRoutes {\n  routeReuseStrategy;\n  futureState;\n  currState;\n  forwardEvent;\n  inputBindingEnabled;\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        context.outlet.deactivate();\n        context.children.onOutletDeactivated();\n      }\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          context.attachRef = null;\n          context.route = future;\n          if (context.outlet) {\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\nclass CanActivate {\n  path;\n  route;\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  component;\n  route;\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !_isInjectable(tokenOrFunction)) {\n      return tokenOrFunction;\n    } else {\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return runInInjectionContext(future._environmentInjector, () => mode(curr, future));\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          return result;\n        }\n      }\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\nfunction abortSignalToObservable(signal) {\n  if (signal.aborted) {\n    return of(undefined).pipe(take(1));\n  }\n  return new Observable(subscriber => {\n    const handler = () => {\n      subscriber.next();\n      subscriber.complete();\n    };\n    signal.addEventListener('abort', handler);\n    return () => signal.removeEventListener('abort', handler);\n  });\n}\nfunction takeUntilAbort(signal) {\n  return takeUntil(abortSignalToObservable(signal));\n}\nfunction checkGuards(forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path), runCanActivate(futureSnapshot, check.route));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = futureARS._environmentInjector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = d.node._environmentInjector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = currARS._environmentInjector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    const obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal).pipe(takeUntilAbort(abortSignal));\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nclass NoMatch extends Error {\n  segmentGroup;\n  constructor(segmentGroup) {\n    super();\n    this.segmentGroup = segmentGroup || null;\n    Object.setPrototypeOf(this, NoMatch.prototype);\n  }\n}\nclass AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n    Object.setPrototypeOf(this, AbsoluteRedirect.prototype);\n  }\n}\nfunction namedOutletsRedirect(redirectTo) {\n  throw new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`);\n}\nfunction canLoadFails(route) {\n  throw navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected);\n}\nclass ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    return _asyncToGenerator(function* () {\n      let res = [];\n      let c = urlTree.root;\n      while (true) {\n        res = res.concat(c.segments);\n        if (c.numberOfChildren === 0) {\n          return res;\n        }\n        if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n          throw namedOutletsRedirect(`${route.redirectTo}`);\n        }\n        c = c.children[PRIMARY_OUTLET];\n      }\n    })();\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const redirect = yield getRedirectResult(redirectTo, currentSnapshot, injector);\n      if (redirect instanceof UrlTree) {\n        throw new AbsoluteRedirect(redirect);\n      }\n      const newTree = _this.applyRedirectCreateUrlTree(redirect, _this.urlSerializer.parse(redirect), segments, posParams);\n      if (redirect[0] === '/') {\n        throw new AbsoluteRedirect(newTree);\n      }\n      return newTree;\n    })();\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nfunction getRedirectResult(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return Promise.resolve(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title,\n    paramMap,\n    queryParamMap\n  } = currentSnapshot;\n  return firstValueFrom(wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title,\n    paramMap,\n    queryParamMap\n  }))));\n}\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && _isNgModule(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new _RuntimeError(4014, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo) {\n      if (route.component || route.loadComponent) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n      }\n      if (route.canMatch || route.canActivate) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and ${route.canMatch ? 'canMatch' : 'canActivate'} cannot be used together.` + `Redirects happen before guards are executed.`);\n      }\n    }\n    if (route.path && route.matcher) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new _RuntimeError(4014, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\nconst noMatch = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer, abortSignal) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal).pipe(map(v => v === true ? result : {\n    ...noMatch\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\nclass NoLeftoversInUrl {}\nfunction recognize$1(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _recognize$.apply(this, arguments);\n}\nfunction _recognize$() {\n  _recognize$ = _asyncToGenerator(function* (injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n    return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal).recognize();\n  });\n  return _recognize$.apply(this, arguments);\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  abortSignal;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.abortSignal = abortSignal;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const rootSegmentGroup = split(_this2.urlTree.root, [], [], _this2.config).segmentGroup;\n      const {\n        children,\n        rootSnapshot\n      } = yield _this2.match(rootSegmentGroup);\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], _this2.urlTree.queryParams, _this2.urlTree.fragment);\n      tree.queryParams = _this2.urlTree.queryParams;\n      routeState.url = _this2.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    })();\n  }\n  match(rootSegmentGroup) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n        ..._this3.urlTree.queryParams\n      }), _this3.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, _this3.rootComponentType, null, {}, _this3.injector);\n      try {\n        const children = yield _this3.processSegmentGroup(_this3.injector, _this3.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot);\n        return {\n          children,\n          rootSnapshot\n        };\n      } catch (e) {\n        if (e instanceof AbsoluteRedirect) {\n          _this3.urlTree = e.urlTree;\n          return _this3.match(e.urlTree.root);\n        }\n        if (e instanceof NoMatch) {\n          throw _this3.noMatchError(e);\n        }\n        throw e;\n      }\n    })();\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n        return _this4.processChildren(injector, config, segmentGroup, parentRoute);\n      }\n      const child = yield _this4.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute);\n      return child instanceof TreeNode ? [child] : [];\n    })();\n  }\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const childOutlets = [];\n      for (const child of Object.keys(segmentGroup.children)) {\n        if (child === 'primary') {\n          childOutlets.unshift(child);\n        } else {\n          childOutlets.push(child);\n        }\n      }\n      let children = [];\n      for (const childOutlet of childOutlets) {\n        const child = segmentGroup.children[childOutlet];\n        const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n        const outletChildren = yield _this5.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n        children.push(...outletChildren);\n      }\n      const mergedChildren = mergeEmptyPathMatches(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        checkOutletNameUniqueness(mergedChildren);\n      }\n      sortActivatedRouteSnapshots(mergedChildren);\n      return mergedChildren;\n    })();\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      for (const r of routes) {\n        try {\n          return yield _this6.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute);\n        } catch (e) {\n          if (e instanceof NoMatch || isEmptyError(e)) {\n            continue;\n          }\n          throw e;\n        }\n      }\n      if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n        return new NoLeftoversInUrl();\n      }\n      throw new NoMatch(segmentGroup);\n    })();\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n        throw new NoMatch(rawSegment);\n      }\n      if (route.redirectTo === undefined) {\n        return _this7.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n      }\n      if (_this7.allowRedirects && allowRedirects) {\n        return _this7.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n      }\n      throw new NoMatch(rawSegment);\n    })();\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        matched,\n        parameters,\n        consumedSegments,\n        positionalParamSegments,\n        remainingSegments\n      } = match(segmentGroup, route, segments);\n      if (!matched) throw new NoMatch(segmentGroup);\n      if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n        _this8.absoluteRedirectCount++;\n        if (_this8.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n          if (ngDevMode) {\n            throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${_this8.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n          }\n          _this8.allowRedirects = false;\n        }\n      }\n      const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n        ..._this8.urlTree.queryParams\n      }), _this8.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route), injector);\n      const inherited = getInherited(currentSnapshot, parentRoute, _this8.paramsInheritanceStrategy);\n      currentSnapshot.params = Object.freeze(inherited.params);\n      currentSnapshot.data = Object.freeze(inherited.data);\n      if (_this8.abortSignal.aborted) {\n        throw new Error(_this8.abortSignal.reason);\n      }\n      const newTree = yield _this8.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n      const newSegments = yield _this8.applyRedirects.lineralizeSegments(route, newTree);\n      return _this8.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    })();\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      if (_this9.abortSignal.aborted) {\n        throw new Error(_this9.abortSignal.reason);\n      }\n      const result = yield firstValueFrom(matchWithChecks(rawSegment, route, segments, injector, _this9.urlSerializer, _this9.abortSignal));\n      if (route.path === '**') {\n        rawSegment.children = {};\n      }\n      if (!result?.matched) {\n        throw new NoMatch(rawSegment);\n      }\n      injector = route._injector ?? injector;\n      const {\n        routes: childConfig\n      } = yield _this9.getChildConfig(injector, route, segments);\n      const childInjector = route._loadedInjector ?? injector;\n      const {\n        parameters,\n        consumedSegments,\n        remainingSegments\n      } = result;\n      const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n        ..._this9.urlTree.queryParams\n      }), _this9.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route), injector);\n      const inherited = getInherited(snapshot, parentRoute, _this9.paramsInheritanceStrategy);\n      snapshot.params = Object.freeze(inherited.params);\n      snapshot.data = Object.freeze(inherited.data);\n      const {\n        segmentGroup,\n        slicedSegments\n      } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n      if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n        const children = yield _this9.processChildren(childInjector, childConfig, segmentGroup, snapshot);\n        return new TreeNode(snapshot, children);\n      }\n      if (childConfig.length === 0 && slicedSegments.length === 0) {\n        return new TreeNode(snapshot, []);\n      }\n      const matchedOnOutlet = getOutlet(route) === outlet;\n      const child = yield _this9.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot);\n      return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n    })();\n  }\n  getChildConfig(injector, route, segments) {\n    var _this0 = this;\n    return _asyncToGenerator(function* () {\n      if (route.children) {\n        return {\n          routes: route.children,\n          injector\n        };\n      }\n      if (route.loadChildren) {\n        if (route._loadedRoutes !== undefined) {\n          const ngModuleFactory = route._loadedNgModuleFactory;\n          if (ngModuleFactory && !route._loadedInjector) {\n            route._loadedInjector = ngModuleFactory.create(injector).injector;\n          }\n          return {\n            routes: route._loadedRoutes,\n            injector: route._loadedInjector\n          };\n        }\n        if (_this0.abortSignal.aborted) {\n          throw new Error(_this0.abortSignal.reason);\n        }\n        const shouldLoadResult = yield firstValueFrom(runCanLoadGuards(injector, route, segments, _this0.urlSerializer, _this0.abortSignal));\n        if (shouldLoadResult) {\n          const cfg = yield _this0.configLoader.loadChildren(injector, route);\n          route._loadedRoutes = cfg.routes;\n          route._loadedInjector = cfg.injector;\n          route._loadedNgModuleFactory = cfg.factory;\n          return cfg;\n        }\n        throw canLoadFails(route);\n      }\n      return {\n        routes: [],\n        injector\n      };\n    })();\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy, abortSignal) {\n  return mergeMap(/*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (t) {\n      const {\n        state: targetSnapshot,\n        tree: urlAfterRedirects\n      } = yield recognize$1(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy, abortSignal);\n      return {\n        ...t,\n        targetSnapshot,\n        urlAfterRedirects\n      };\n    });\n    return function (_x7) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\nfunction resolveData(paramsInheritanceStrategy) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return defer(() => {\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return resolveNode(resolve, futureARS, futureRSS).pipe(map(resolvedData => {\n      futureARS._resolvedData = resolvedData;\n      futureARS.data = {\n        ...futureARS.data,\n        ...resolvedData\n      };\n      return null;\n    }));\n  });\n}\nfunction resolveNode(resolve, futureARS, futureRSS) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), map(() => data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS) {\n  const closestInjector = futureARS._environmentInjector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\nclass TitleStrategy {\n  buildTitle(snapshot) {\n    let pageTitle;\n    let route = snapshot.root;\n    while (route !== undefined) {\n      pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n      route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n    }\n    return pageTitle;\n  }\n  getResolvedTitleForRoute(snapshot) {\n    return snapshot.data[RouteTitleKey];\n  }\n  static ɵfac = function TitleStrategy_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TitleStrategy)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TitleStrategy,\n    factory: () => (() => inject(DefaultTitleStrategy))(),\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TitleStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultTitleStrategy)\n    }]\n  }], null, null);\n})();\nclass DefaultTitleStrategy extends TitleStrategy {\n  title;\n  constructor(title) {\n    super();\n    this.title = title;\n  }\n  updateTitle(snapshot) {\n    const title = this.buildTitle(snapshot);\n    if (title !== undefined) {\n      this.title.setTitle(title);\n    }\n  }\n  static ɵfac = function DefaultTitleStrategy_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DefaultTitleStrategy)(i0.ɵɵinject(i1.Title));\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DefaultTitleStrategy,\n    factory: DefaultTitleStrategy.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DefaultTitleStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.Title\n  }], null);\n})();\nconst ROUTER_CONFIGURATION = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  factory: () => ({})\n});\nconst ROUTES = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'ROUTES' : '');\nclass RouterConfigLoader {\n  componentLoaders = new WeakMap();\n  childrenLoaders = new WeakMap();\n  onLoadStartListener;\n  onLoadEndListener;\n  compiler = inject(Compiler);\n  loadComponent(injector, route) {\n    var _this1 = this;\n    return _asyncToGenerator(function* () {\n      if (_this1.componentLoaders.get(route)) {\n        return _this1.componentLoaders.get(route);\n      } else if (route._loadedComponent) {\n        return Promise.resolve(route._loadedComponent);\n      }\n      if (_this1.onLoadStartListener) {\n        _this1.onLoadStartListener(route);\n      }\n      const loader = _asyncToGenerator(function* () {\n        try {\n          const loaded = yield wrapIntoPromise(runInInjectionContext(injector, () => route.loadComponent()));\n          const component = yield maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n          if (_this1.onLoadEndListener) {\n            _this1.onLoadEndListener(route);\n          }\n          (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n          route._loadedComponent = component;\n          return component;\n        } finally {\n          _this1.componentLoaders.delete(route);\n        }\n      })();\n      _this1.componentLoaders.set(route, loader);\n      return loader;\n    })();\n  }\n  loadChildren(parentInjector, route) {\n    var _this10 = this;\n    if (this.childrenLoaders.get(route)) {\n      return this.childrenLoaders.get(route);\n    } else if (route._loadedRoutes) {\n      return Promise.resolve({\n        routes: route._loadedRoutes,\n        injector: route._loadedInjector\n      });\n    }\n    if (this.onLoadStartListener) {\n      this.onLoadStartListener(route);\n    }\n    const loader = _asyncToGenerator(function* () {\n      try {\n        const result = yield loadChildren(route, _this10.compiler, parentInjector, _this10.onLoadEndListener);\n        route._loadedRoutes = result.routes;\n        route._loadedInjector = result.injector;\n        route._loadedNgModuleFactory = result.factory;\n        return result;\n      } finally {\n        _this10.childrenLoaders.delete(route);\n      }\n    })();\n    this.childrenLoaders.set(route, loader);\n    return loader;\n  }\n  static ɵfac = function RouterConfigLoader_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || RouterConfigLoader)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: RouterConfigLoader,\n    factory: RouterConfigLoader.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RouterConfigLoader, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nfunction loadChildren(_x8, _x9, _x0, _x1) {\n  return _loadChildren.apply(this, arguments);\n}\nfunction _loadChildren() {\n  _loadChildren = _asyncToGenerator(function* (route, compiler, parentInjector, onLoadEndListener) {\n    const loaded = yield wrapIntoPromise(runInInjectionContext(parentInjector, () => route.loadChildren()));\n    const t = yield maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n    let factoryOrRoutes;\n    if (t instanceof NgModuleFactory || Array.isArray(t)) {\n      factoryOrRoutes = t;\n    } else {\n      factoryOrRoutes = yield compiler.compileModuleAsync(t);\n    }\n    if (onLoadEndListener) {\n      onLoadEndListener(route);\n    }\n    let injector;\n    let rawRoutes;\n    let requireStandaloneComponents = false;\n    let factory = undefined;\n    if (Array.isArray(factoryOrRoutes)) {\n      rawRoutes = factoryOrRoutes;\n      requireStandaloneComponents = true;\n    } else {\n      injector = factoryOrRoutes.create(parentInjector).injector;\n      factory = factoryOrRoutes;\n      rawRoutes = injector.get(ROUTES, [], {\n        optional: true,\n        self: true\n      }).flat();\n    }\n    const routes = rawRoutes.map(standardizeConfig);\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n    return {\n      routes,\n      injector,\n      factory\n    };\n  });\n  return _loadChildren.apply(this, arguments);\n}\nfunction isWrappedDefaultExport(value) {\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\nfunction maybeResolveResources(_x10) {\n  return _maybeResolveResources.apply(this, arguments);\n}\nfunction _maybeResolveResources() {\n  _maybeResolveResources = _asyncToGenerator(function* (value) {\n    if ((typeof ngJitMode === 'undefined' || ngJitMode) && typeof fetch === 'function') {\n      try {\n        yield _resolveComponentResources(fetch);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    return value;\n  });\n  return _maybeResolveResources.apply(this, arguments);\n}\nclass UrlHandlingStrategy {\n  static ɵfac = function UrlHandlingStrategy_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || UrlHandlingStrategy)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: UrlHandlingStrategy,\n    factory: () => (() => inject(DefaultUrlHandlingStrategy))(),\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UrlHandlingStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultUrlHandlingStrategy)\n    }]\n  }], null, null);\n})();\nclass DefaultUrlHandlingStrategy {\n  shouldProcessUrl(url) {\n    return true;\n  }\n  extract(url) {\n    return url;\n  }\n  merge(newUrlPart, wholeUrl) {\n    return newUrlPart;\n  }\n  static ɵfac = function DefaultUrlHandlingStrategy_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DefaultUrlHandlingStrategy)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DefaultUrlHandlingStrategy,\n    factory: DefaultUrlHandlingStrategy.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DefaultUrlHandlingStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst CREATE_VIEW_TRANSITION = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition options' : '');\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n    transitionOptions.skipNextTransition = false;\n    return new Promise(resolve => setTimeout(resolve));\n  }\n  let resolveViewTransitionStarted;\n  const viewTransitionStarted = new Promise(resolve => {\n    resolveViewTransitionStarted = resolve;\n  });\n  const transition = document.startViewTransition(() => {\n    resolveViewTransitionStarted();\n    return createRenderPromise(injector);\n  });\n  transition.updateCallbackDone.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.ready.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.finished.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  const {\n    onViewTransitionCreated\n  } = transitionOptions;\n  if (onViewTransitionCreated) {\n    runInInjectionContext(injector, () => onViewTransitionCreated({\n      transition,\n      from,\n      to\n    }));\n  }\n  return viewTransitionStarted;\n}\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    afterNextRender({\n      read: () => setTimeout(resolve)\n    }, {\n      injector\n    });\n  });\n}\nconst noop = () => {};\nconst NAVIGATION_ERROR_HANDLER = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nclass NavigationTransitions {\n  currentNavigation = signal(null, {\n    ...(ngDevMode ? {\n      debugName: \"currentNavigation\"\n    } : {}),\n    equal: () => false\n  });\n  currentTransition = null;\n  lastSuccessfulNavigation = signal(null, ...(ngDevMode ? [{\n    debugName: \"lastSuccessfulNavigation\"\n  }] : []));\n  events = new Subject();\n  transitionAbortWithErrorSubject = new Subject();\n  configLoader = inject(RouterConfigLoader);\n  environmentInjector = inject(EnvironmentInjector);\n  destroyRef = inject(DestroyRef);\n  urlSerializer = inject(UrlSerializer);\n  rootContexts = inject(ChildrenOutletContexts);\n  location = inject(Location);\n  inputBindingEnabled = inject(INPUT_BINDER, {\n    optional: true\n  }) !== null;\n  titleStrategy = inject(TitleStrategy);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n    optional: true\n  });\n  navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n    optional: true\n  });\n  navigationId = 0;\n  get hasRequestedNavigation() {\n    return this.navigationId !== 0;\n  }\n  transitions;\n  afterPreactivation = () => of(void 0);\n  rootComponentType = null;\n  destroyed = false;\n  constructor() {\n    const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n    const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n    this.configLoader.onLoadEndListener = onLoadEnd;\n    this.configLoader.onLoadStartListener = onLoadStart;\n    this.destroyRef.onDestroy(() => {\n      this.destroyed = true;\n    });\n  }\n  complete() {\n    this.transitions?.complete();\n  }\n  handleNavigationRequest(request) {\n    const id = ++this.navigationId;\n    untracked(() => {\n      this.transitions?.next({\n        ...request,\n        extractedUrl: this.urlHandlingStrategy.extract(request.rawUrl),\n        targetSnapshot: null,\n        targetRouterState: null,\n        guards: {\n          canActivateChecks: [],\n          canDeactivateChecks: []\n        },\n        guardsResult: null,\n        id\n      });\n    });\n  }\n  setupNavigations(router) {\n    this.transitions = new BehaviorSubject(null);\n    return this.transitions.pipe(filter(t => t !== null), switchMap(overallTransitionState => {\n      let completedOrAborted = false;\n      const abortController = new AbortController();\n      const shouldContinueNavigation = () => {\n        return !completedOrAborted && this.currentTransition?.id === overallTransitionState.id;\n      };\n      return of(overallTransitionState).pipe(switchMap(t => {\n        if (this.navigationId > overallTransitionState.id) {\n          const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          return EMPTY;\n        }\n        this.currentTransition = overallTransitionState;\n        const lastSuccessfulNavigation = this.lastSuccessfulNavigation();\n        this.currentNavigation.set({\n          id: t.id,\n          initialUrl: t.rawUrl,\n          extractedUrl: t.extractedUrl,\n          targetBrowserUrl: typeof t.extras.browserUrl === 'string' ? this.urlSerializer.parse(t.extras.browserUrl) : t.extras.browserUrl,\n          trigger: t.source,\n          extras: t.extras,\n          previousNavigation: !lastSuccessfulNavigation ? null : {\n            ...lastSuccessfulNavigation,\n            previousNavigation: null\n          },\n          abort: () => abortController.abort()\n        });\n        const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n        const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n        if (!urlTransition && onSameUrlNavigation !== 'reload') {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n          t.resolve(false);\n          return EMPTY;\n        }\n        if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n          return of(t).pipe(switchMap(t => {\n            this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n            if (t.id !== this.navigationId) {\n              return EMPTY;\n            }\n            return Promise.resolve(t);\n          }), recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy, abortController.signal), tap(t => {\n            overallTransitionState.targetSnapshot = t.targetSnapshot;\n            overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n            this.currentNavigation.update(nav => {\n              nav.finalUrl = t.urlAfterRedirects;\n              return nav;\n            });\n            const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(routesRecognized);\n          }));\n        } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n          const {\n            id,\n            extractedUrl,\n            source,\n            restoredState,\n            extras\n          } = t;\n          const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n          this.events.next(navStart);\n          const targetSnapshot = createEmptyState(this.rootComponentType, this.environmentInjector).snapshot;\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetSnapshot,\n            urlAfterRedirects: extractedUrl,\n            extras: {\n              ...extras,\n              skipLocationChange: false,\n              replaceUrl: false\n            }\n          };\n          this.currentNavigation.update(nav => {\n            nav.finalUrl = extractedUrl;\n            return nav;\n          });\n          return of(overallTransitionState);\n        } else {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n          t.resolve(false);\n          return EMPTY;\n        }\n      }), map(t => {\n        const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n        this.events.next(guardsStart);\n        this.currentTransition = overallTransitionState = {\n          ...t,\n          guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n        };\n        return overallTransitionState;\n      }), checkGuards(evt => this.events.next(evt)), switchMap(t => {\n        overallTransitionState.guardsResult = t.guardsResult;\n        if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n          throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n        }\n        const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n        this.events.next(guardsEnd);\n        if (!shouldContinueNavigation()) {\n          return EMPTY;\n        }\n        if (!t.guardsResult) {\n          this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n          return EMPTY;\n        }\n        if (t.guards.canActivateChecks.length === 0) {\n          return of(t);\n        }\n        const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n        this.events.next(resolveStart);\n        if (!shouldContinueNavigation()) {\n          return EMPTY;\n        }\n        let dataResolved = false;\n        return of(t).pipe(resolveData(this.paramsInheritanceStrategy), tap({\n          next: () => {\n            dataResolved = true;\n            const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(resolveEnd);\n          },\n          complete: () => {\n            if (!dataResolved) {\n              this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n            }\n          }\n        }));\n      }), switchTap(t => {\n        const loadComponents = route => {\n          const loaders = [];\n          if (route.routeConfig?._loadedComponent) {\n            route.component = route.routeConfig?._loadedComponent;\n          } else if (route.routeConfig?.loadComponent) {\n            const injector = route._environmentInjector;\n            loaders.push(this.configLoader.loadComponent(injector, route.routeConfig).then(loadedComponent => {\n              route.component = loadedComponent;\n            }));\n          }\n          for (const child of route.children) {\n            loaders.push(...loadComponents(child));\n          }\n          return loaders;\n        };\n        const loaders = loadComponents(t.targetSnapshot.root);\n        return loaders.length === 0 ? of(t) : from(Promise.all(loaders).then(() => t));\n      }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n        const {\n          currentSnapshot,\n          targetSnapshot\n        } = overallTransitionState;\n        const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n        return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n      }), take(1), map(t => {\n        const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n        this.currentTransition = overallTransitionState = t = {\n          ...t,\n          targetRouterState\n        };\n        this.currentNavigation.update(nav => {\n          nav.targetRouterState = targetRouterState;\n          return nav;\n        });\n        this.events.next(new BeforeActivateRoutes());\n        if (!shouldContinueNavigation()) {\n          return;\n        }\n        new ActivateRoutes(router.routeReuseStrategy, overallTransitionState.targetRouterState, overallTransitionState.currentRouterState, evt => this.events.next(evt), this.inputBindingEnabled).activate(this.rootContexts);\n        if (!shouldContinueNavigation()) {\n          return;\n        }\n        completedOrAborted = true;\n        this.currentNavigation.update(nav => {\n          nav.abort = noop;\n          return nav;\n        });\n        this.lastSuccessfulNavigation.set(untracked(this.currentNavigation));\n        this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n        this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n        t.resolve(true);\n      }), takeUntil(abortSignalToObservable(abortController.signal).pipe(filter(() => !completedOrAborted && !overallTransitionState.targetRouterState), tap(() => {\n        this.cancelNavigationTransition(overallTransitionState, abortController.signal.reason + '', NavigationCancellationCode.Aborted);\n      }))), tap({\n        complete: () => {\n          completedOrAborted = true;\n        }\n      }), takeUntil(this.transitionAbortWithErrorSubject.pipe(tap(err => {\n        throw err;\n      }))), finalize(() => {\n        abortController.abort();\n        if (!completedOrAborted) {\n          const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n        }\n        if (this.currentTransition?.id === overallTransitionState.id) {\n          this.currentNavigation.set(null);\n          this.currentTransition = null;\n        }\n      }), catchError(e => {\n        completedOrAborted = true;\n        if (this.destroyed) {\n          overallTransitionState.resolve(false);\n          return EMPTY;\n        }\n        if (isNavigationCancelingError(e)) {\n          this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n          if (!isRedirectingNavigationCancelingError(e)) {\n            overallTransitionState.resolve(false);\n          } else {\n            this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n          }\n        } else {\n          const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n          try {\n            const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n            if (navigationErrorHandlerResult instanceof RedirectCommand) {\n              const {\n                message,\n                cancellationCode\n              } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n              this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n              this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n            } else {\n              this.events.next(navigationError);\n              throw e;\n            }\n          } catch (ee) {\n            if (this.options.resolveNavigationPromiseOnError) {\n              overallTransitionState.resolve(false);\n            } else {\n              overallTransitionState.reject(ee);\n            }\n          }\n        }\n        return EMPTY;\n      }));\n    }));\n  }\n  cancelNavigationTransition(t, reason, code) {\n    const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n    this.events.next(navCancel);\n    t.resolve(false);\n  }\n  isUpdatingInternalState() {\n    return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n  }\n  isUpdatedBrowserUrl() {\n    const currentBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n    const currentNavigation = untracked(this.currentNavigation);\n    const targetBrowserUrl = currentNavigation?.targetBrowserUrl ?? currentNavigation?.extractedUrl;\n    return currentBrowserUrl.toString() !== targetBrowserUrl?.toString() && !currentNavigation?.extras.skipLocationChange;\n  }\n  static ɵfac = function NavigationTransitions_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NavigationTransitions)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NavigationTransitions,\n    factory: NavigationTransitions.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NavigationTransitions, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [], null);\n})();\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\nconst ROUTE_INJECTOR_CLEANUP = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'RouteInjectorCleanup' : '');\nfunction routeInjectorCleanup(routeReuseStrategy, routerState, config) {\n  const activeRoutes = new Set();\n  if (routerState.snapshot.root) {\n    collectDescendants(routerState.snapshot.root, activeRoutes);\n  }\n  const storedHandles = routeReuseStrategy.retrieveStoredRouteHandles?.() || [];\n  for (const handle of storedHandles) {\n    const internalHandle = handle;\n    if (internalHandle?.route?.value?.snapshot) {\n      for (const snapshot of internalHandle.route.value.snapshot.pathFromRoot) {\n        if (snapshot.routeConfig) {\n          activeRoutes.add(snapshot.routeConfig);\n        }\n      }\n    }\n  }\n  destroyUnusedInjectors(config, activeRoutes, routeReuseStrategy, false);\n}\nfunction collectDescendants(snapshot, activeRoutes) {\n  if (snapshot.routeConfig) {\n    activeRoutes.add(snapshot.routeConfig);\n  }\n  for (const child of snapshot.children) {\n    collectDescendants(child, activeRoutes);\n  }\n}\nfunction destroyUnusedInjectors(routes, activeRoutes, strategy, inheritedForceDestroy) {\n  for (const route of routes) {\n    const shouldDestroyCurrentRoute = inheritedForceDestroy || !!((route._injector || route._loadedInjector) && !activeRoutes.has(route) && (strategy.shouldDestroyInjector?.(route) ?? false));\n    if (route.children) {\n      destroyUnusedInjectors(route.children, activeRoutes, strategy, shouldDestroyCurrentRoute);\n    }\n    if (route.loadChildren && route._loadedRoutes) {\n      destroyUnusedInjectors(route._loadedRoutes, activeRoutes, strategy, shouldDestroyCurrentRoute);\n    }\n    if (shouldDestroyCurrentRoute) {\n      if (route._injector) {\n        route._injector.destroy();\n        route._injector = undefined;\n      }\n      if (route._loadedInjector) {\n        route._loadedInjector.destroy();\n        route._loadedInjector = undefined;\n      }\n    }\n  }\n}\nfunction destroyDetachedRouteHandle(handle) {\n  const internalHandle = handle;\n  if (internalHandle && internalHandle.componentRef) {\n    internalHandle.componentRef.destroy();\n  }\n}\nclass RouteReuseStrategy {\n  static ɵfac = function RouteReuseStrategy_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || RouteReuseStrategy)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: RouteReuseStrategy,\n    factory: () => (() => inject(DefaultRouteReuseStrategy))(),\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RouteReuseStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultRouteReuseStrategy)\n    }]\n  }], null, null);\n})();\nclass BaseRouteReuseStrategy {\n  shouldDetach(route) {\n    return false;\n  }\n  store(route, detachedTree) {}\n  shouldAttach(route) {\n    return false;\n  }\n  retrieve(route) {\n    return null;\n  }\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n  shouldDestroyInjector(route) {\n    return true;\n  }\n}\nclass DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n  static ɵfac = /* @__PURE__ */(() => {\n    let ɵDefaultRouteReuseStrategy_BaseFactory;\n    return function DefaultRouteReuseStrategy_Factory(__ngFactoryType__) {\n      return (ɵDefaultRouteReuseStrategy_BaseFactory || (ɵDefaultRouteReuseStrategy_BaseFactory = i0.ɵɵgetInheritedFactory(DefaultRouteReuseStrategy)))(__ngFactoryType__ || DefaultRouteReuseStrategy);\n    };\n  })();\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DefaultRouteReuseStrategy,\n    factory: DefaultRouteReuseStrategy.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DefaultRouteReuseStrategy, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass StateManager {\n  urlSerializer = inject(UrlSerializer);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  currentUrlTree = new UrlTree();\n  getCurrentUrlTree() {\n    return this.currentUrlTree;\n  }\n  rawUrlTree = this.currentUrlTree;\n  getRawUrlTree() {\n    return this.rawUrlTree;\n  }\n  createBrowserPath({\n    finalUrl,\n    initialUrl,\n    targetBrowserUrl\n  }) {\n    const rawUrl = finalUrl !== undefined ? this.urlHandlingStrategy.merge(finalUrl, initialUrl) : initialUrl;\n    const url = targetBrowserUrl ?? rawUrl;\n    const path = url instanceof UrlTree ? this.urlSerializer.serialize(url) : url;\n    return path;\n  }\n  commitTransition({\n    targetRouterState,\n    finalUrl,\n    initialUrl\n  }) {\n    if (finalUrl && targetRouterState) {\n      this.currentUrlTree = finalUrl;\n      this.rawUrlTree = this.urlHandlingStrategy.merge(finalUrl, initialUrl);\n      this.routerState = targetRouterState;\n    } else {\n      this.rawUrlTree = initialUrl;\n    }\n  }\n  routerState = createEmptyState(null, inject(EnvironmentInjector));\n  getRouterState() {\n    return this.routerState;\n  }\n  _stateMemento = this.createStateMemento();\n  get stateMemento() {\n    return this._stateMemento;\n  }\n  updateStateMemento() {\n    this._stateMemento = this.createStateMemento();\n  }\n  createStateMemento() {\n    return {\n      rawUrlTree: this.rawUrlTree,\n      currentUrlTree: this.currentUrlTree,\n      routerState: this.routerState\n    };\n  }\n  restoredState() {\n    return this.location.getState();\n  }\n  static ɵfac = function StateManager_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || StateManager)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: StateManager,\n    factory: () => (() => inject(HistoryStateManager))(),\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StateManager, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(HistoryStateManager)\n    }]\n  }], null, null);\n})();\nclass HistoryStateManager extends StateManager {\n  currentPageId = 0;\n  lastSuccessfulId = -1;\n  get browserPageId() {\n    if (this.canceledNavigationResolution !== 'computed') {\n      return this.currentPageId;\n    }\n    return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n  }\n  registerNonRouterCurrentEntryChangeListener(listener) {\n    return this.location.subscribe(event => {\n      if (event['type'] === 'popstate') {\n        setTimeout(() => {\n          listener(event['url'], event.state, 'popstate');\n        });\n      }\n    });\n  }\n  handleRouterEvent(e, currentTransition) {\n    if (e instanceof NavigationStart) {\n      this.updateStateMemento();\n    } else if (e instanceof NavigationSkipped) {\n      this.commitTransition(currentTransition);\n    } else if (e instanceof RoutesRecognized) {\n      if (this.urlUpdateStrategy === 'eager') {\n        if (!currentTransition.extras.skipLocationChange) {\n          this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n        }\n      }\n    } else if (e instanceof BeforeActivateRoutes) {\n      this.commitTransition(currentTransition);\n      if (this.urlUpdateStrategy === 'deferred' && !currentTransition.extras.skipLocationChange) {\n        this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n      }\n    } else if (e instanceof NavigationCancel && !isRedirectingEvent(e)) {\n      this.restoreHistory(currentTransition);\n    } else if (e instanceof NavigationError) {\n      this.restoreHistory(currentTransition, true);\n    } else if (e instanceof NavigationEnd) {\n      this.lastSuccessfulId = e.id;\n      this.currentPageId = this.browserPageId;\n    }\n  }\n  setBrowserUrl(path, {\n    extras,\n    id\n  }) {\n    const {\n      replaceUrl,\n      state\n    } = extras;\n    if (this.location.isCurrentPathEqualTo(path) || !!replaceUrl) {\n      const currentBrowserPageId = this.browserPageId;\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, currentBrowserPageId)\n      };\n      this.location.replaceState(path, '', newState);\n    } else {\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, this.browserPageId + 1)\n      };\n      this.location.go(path, '', newState);\n    }\n  }\n  restoreHistory(navigation, restoringFromCaughtError = false) {\n    if (this.canceledNavigationResolution === 'computed') {\n      const currentBrowserPageId = this.browserPageId;\n      const targetPagePosition = this.currentPageId - currentBrowserPageId;\n      if (targetPagePosition !== 0) {\n        this.location.historyGo(targetPagePosition);\n      } else if (this.getCurrentUrlTree() === navigation.finalUrl && targetPagePosition === 0) {\n        this.resetInternalState(navigation);\n        this.resetUrlToCurrentUrlTree();\n      } else ;\n    } else if (this.canceledNavigationResolution === 'replace') {\n      if (restoringFromCaughtError) {\n        this.resetInternalState(navigation);\n      }\n      this.resetUrlToCurrentUrlTree();\n    }\n  }\n  resetInternalState({\n    finalUrl\n  }) {\n    this.routerState = this.stateMemento.routerState;\n    this.currentUrlTree = this.stateMemento.currentUrlTree;\n    this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, finalUrl ?? this.rawUrlTree);\n  }\n  resetUrlToCurrentUrlTree() {\n    this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n  }\n  generateNgRouterState(navigationId, routerPageId) {\n    if (this.canceledNavigationResolution === 'computed') {\n      return {\n        navigationId,\n        ɵrouterPageId: routerPageId\n      };\n    }\n    return {\n      navigationId\n    };\n  }\n  static ɵfac = /* @__PURE__ */(() => {\n    let ɵHistoryStateManager_BaseFactory;\n    return function HistoryStateManager_Factory(__ngFactoryType__) {\n      return (ɵHistoryStateManager_BaseFactory || (ɵHistoryStateManager_BaseFactory = i0.ɵɵgetInheritedFactory(HistoryStateManager)))(__ngFactoryType__ || HistoryStateManager);\n    };\n  })();\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: HistoryStateManager,\n    factory: HistoryStateManager.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(HistoryStateManager, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return 0;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? 2 : 1;\n  }), filter(result => result !== 2), take(1)).subscribe(() => {\n    action();\n  });\n}\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\nclass Router {\n  get currentUrlTree() {\n    return this.stateManager.getCurrentUrlTree();\n  }\n  get rawUrlTree() {\n    return this.stateManager.getRawUrlTree();\n  }\n  disposed = false;\n  nonRouterCurrentEntryChangeSubscription;\n  console = inject(_Console);\n  stateManager = inject(StateManager);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  pendingTasks = inject(_PendingTasksInternal);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  navigationTransitions = inject(NavigationTransitions);\n  urlSerializer = inject(UrlSerializer);\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  injector = inject(EnvironmentInjector);\n  _events = new Subject();\n  get events() {\n    return this._events;\n  }\n  get routerState() {\n    return this.stateManager.getRouterState();\n  }\n  navigated = false;\n  routeReuseStrategy = inject(RouteReuseStrategy);\n  injectorCleanup = inject(ROUTE_INJECTOR_CLEANUP, {\n    optional: true\n  });\n  onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n  config = inject(ROUTES, {\n    optional: true\n  })?.flat() ?? [];\n  componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n    optional: true\n  });\n  currentNavigation = this.navigationTransitions.currentNavigation.asReadonly();\n  constructor() {\n    this.resetConfig(this.config);\n    this.navigationTransitions.setupNavigations(this).subscribe({\n      error: e => {}\n    });\n    this.subscribeToNavigationEvents();\n  }\n  eventsSubscription = new Subscription();\n  subscribeToNavigationEvents() {\n    const subscription = this.navigationTransitions.events.subscribe(e => {\n      try {\n        const currentTransition = this.navigationTransitions.currentTransition;\n        const currentNavigation = untracked(this.navigationTransitions.currentNavigation);\n        if (currentTransition !== null && currentNavigation !== null) {\n          this.stateManager.handleRouterEvent(e, currentNavigation);\n          if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n            this.navigated = true;\n          } else if (e instanceof NavigationEnd) {\n            this.navigated = true;\n            this.injectorCleanup?.(this.routeReuseStrategy, this.routerState, this.config);\n          } else if (e instanceof RedirectRequest) {\n            const opts = e.navigationBehaviorOptions;\n            const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n            const extras = {\n              scroll: currentTransition.extras.scroll,\n              browserUrl: currentTransition.extras.browserUrl,\n              info: currentTransition.extras.info,\n              skipLocationChange: currentTransition.extras.skipLocationChange,\n              replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n              ...opts\n            };\n            this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n              resolve: currentTransition.resolve,\n              reject: currentTransition.reject,\n              promise: currentTransition.promise\n            });\n          }\n        }\n        if (isPublicRouterEvent(e)) {\n          this._events.next(e);\n        }\n      } catch (e) {\n        this.navigationTransitions.transitionAbortWithErrorSubject.next(e);\n      }\n    });\n    this.eventsSubscription.add(subscription);\n  }\n  resetRootComponentType(rootComponentType) {\n    this.routerState.root.component = rootComponentType;\n    this.navigationTransitions.rootComponentType = rootComponentType;\n  }\n  initialNavigation() {\n    this.setUpLocationChangeListener();\n    if (!this.navigationTransitions.hasRequestedNavigation) {\n      this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n    }\n  }\n  setUpLocationChangeListener() {\n    this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state, source) => {\n      this.navigateToSyncWithBrowser(url, source, state);\n    });\n  }\n  navigateToSyncWithBrowser(url, source, state) {\n    const extras = {\n      replaceUrl: true\n    };\n    const restoredState = state?.navigationId ? state : null;\n    if (state) {\n      const stateCopy = {\n        ...state\n      };\n      delete stateCopy.navigationId;\n      delete stateCopy.ɵrouterPageId;\n      if (Object.keys(stateCopy).length !== 0) {\n        extras.state = stateCopy;\n      }\n    }\n    const urlTree = this.parseUrl(url);\n    this.scheduleNavigation(urlTree, source, restoredState, extras).catch(e => {\n      if (this.disposed) {\n        return;\n      }\n      this.injector.get(_INTERNAL_APPLICATION_ERROR_HANDLER)(e);\n    });\n  }\n  get url() {\n    return this.serializeUrl(this.currentUrlTree);\n  }\n  getCurrentNavigation() {\n    return untracked(this.navigationTransitions.currentNavigation);\n  }\n  get lastSuccessfulNavigation() {\n    return this.navigationTransitions.lastSuccessfulNavigation;\n  }\n  resetConfig(config) {\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n    this.config = config.map(standardizeConfig);\n    this.navigated = false;\n  }\n  ngOnDestroy() {\n    this.dispose();\n  }\n  dispose() {\n    this._events.unsubscribe();\n    this.navigationTransitions.complete();\n    this.nonRouterCurrentEntryChangeSubscription?.unsubscribe();\n    this.nonRouterCurrentEntryChangeSubscription = undefined;\n    this.disposed = true;\n    this.eventsSubscription.unsubscribe();\n  }\n  createUrlTree(commands, navigationExtras = {}) {\n    const {\n      relativeTo,\n      queryParams,\n      fragment,\n      queryParamsHandling,\n      preserveFragment\n    } = navigationExtras;\n    const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n    let q = null;\n    switch (queryParamsHandling ?? this.options.defaultQueryParamsHandling) {\n      case 'merge':\n        q = {\n          ...this.currentUrlTree.queryParams,\n          ...queryParams\n        };\n        break;\n      case 'preserve':\n        q = this.currentUrlTree.queryParams;\n        break;\n      default:\n        q = queryParams || null;\n    }\n    if (q !== null) {\n      q = this.removeEmptyProps(q);\n    }\n    let relativeToUrlSegmentGroup;\n    try {\n      const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n      relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n    } catch (e) {\n      if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n        commands = [];\n      }\n      relativeToUrlSegmentGroup = this.currentUrlTree.root;\n    }\n    return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null, this.urlSerializer);\n  }\n  navigateByUrl(url, extras = {\n    skipLocationChange: false\n  }) {\n    const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n    const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n    return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n  }\n  navigate(commands, extras = {\n    skipLocationChange: false\n  }) {\n    validateCommands(commands);\n    return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n  }\n  serializeUrl(url) {\n    return this.urlSerializer.serialize(url);\n  }\n  parseUrl(url) {\n    try {\n      return this.urlSerializer.parse(url);\n    } catch (e) {\n      this.console.warn(_formatRuntimeError(4018, ngDevMode && `Error parsing URL ${url}. Falling back to '/' instead. \\n` + e));\n      return this.urlSerializer.parse('/');\n    }\n  }\n  isActive(url, matchOptions) {\n    let options;\n    if (matchOptions === true) {\n      options = {\n        ...exactMatchOptions\n      };\n    } else if (matchOptions === false) {\n      options = {\n        ...subsetMatchOptions\n      };\n    } else {\n      options = matchOptions;\n    }\n    if (isUrlTree(url)) {\n      return containsTree(this.currentUrlTree, url, options);\n    }\n    const urlTree = this.parseUrl(url);\n    return containsTree(this.currentUrlTree, urlTree, options);\n  }\n  removeEmptyProps(params) {\n    return Object.entries(params).reduce((result, [key, value]) => {\n      if (value !== null && value !== undefined) {\n        result[key] = value;\n      }\n      return result;\n    }, {});\n  }\n  scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n    if (this.disposed) {\n      return Promise.resolve(false);\n    }\n    let resolve;\n    let reject;\n    let promise;\n    if (priorPromise) {\n      resolve = priorPromise.resolve;\n      reject = priorPromise.reject;\n      promise = priorPromise.promise;\n    } else {\n      promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n      });\n    }\n    const taskId = this.pendingTasks.add();\n    afterNextNavigation(this, () => {\n      queueMicrotask(() => this.pendingTasks.remove(taskId));\n    });\n    this.navigationTransitions.handleNavigationRequest({\n      source,\n      restoredState,\n      currentUrlTree: this.currentUrlTree,\n      currentRawUrl: this.currentUrlTree,\n      rawUrl,\n      extras,\n      resolve: resolve,\n      reject: reject,\n      promise,\n      currentSnapshot: this.routerState.snapshot,\n      currentRouterState: this.routerState\n    });\n    return promise.catch(e => {\n      return Promise.reject(e);\n    });\n  }\n  static ɵfac = function Router_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || Router)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: Router,\n    factory: Router.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(Router, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [], null);\n})();\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new _RuntimeError(4008, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, BeforeActivateRoutes, CREATE_VIEW_TRANSITION, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, IMPERATIVE_NAVIGATION, INPUT_BINDER, NAVIGATION_ERROR_HANDLER, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NavigationTransitions, OutletContext, PRIMARY_OUTLET, ROUTER_CONFIGURATION, ROUTER_OUTLET_DATA, ROUTES, ROUTE_INJECTOR_CLEANUP, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, RoutedComponentInputBinder, Router, RouterConfigLoader, RouterEvent, RouterOutlet, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, StateManager, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VIEW_TRANSITION_OPTIONS, afterNextNavigation, convertToParamMap, createUrlTreeFromSnapshot, createViewTransition, defaultUrlMatcher, destroyDetachedRouteHandle, exactMatchOptions, isActive, isRedirectingEvent, isUrlTree, loadChildren, routeInjectorCleanup, stringifyEvent, subsetMatchOptions, ɵEmptyOutletComponent };","map":{"version":3,"names":["DOCUMENT","Location","i0","ɵisPromise","_isPromise","computed","ɵRuntimeError","_RuntimeError","Injectable","InjectionToken","EventEmitter","input","inject","ViewContainerRef","ChangeDetectorRef","Directive","Input","Output","reflectComponentType","Component","runInInjectionContext","ɵisInjectable","_isInjectable","ɵisNgModule","_isNgModule","isStandalone","createEnvironmentInjector","Compiler","NgModuleFactory","ɵresolveComponentResources","_resolveComponentResources","afterNextRender","signal","EnvironmentInjector","DestroyRef","untracked","ɵConsole","_Console","ɵPendingTasksInternal","_PendingTasksInternal","ɵINTERNAL_APPLICATION_ERROR_HANDLER","_INTERNAL_APPLICATION_ERROR_HANDLER","ɵformatRuntimeError","_formatRuntimeError","isObservable","from","of","BehaviorSubject","combineLatest","EmptyError","Observable","concat","defer","pipe","EMPTY","throwError","Subject","Subscription","first","map","switchMap","take","startWith","filter","takeUntil","mergeMap","concatMap","tap","takeLast","catchError","finalize","i1","PRIMARY_OUTLET","RouteTitleKey","Symbol","ParamsAsMap","params","constructor","has","name","Object","prototype","hasOwnProperty","call","get","v","Array","isArray","getAll","keys","convertToParamMap","matchParts","routeParts","urlSegments","posParams","i","length","part","segment","isParameter","substring","path","defaultUrlMatcher","segments","segmentGroup","route","parts","split","wildcardIndex","indexOf","pathMatch","hasChildren","consumed","slice","lastIndexOf","pre","post","firstValueFrom","source","Promise","resolve","reject","subscribe","next","value","error","err","shallowEqualArrays","a","b","shallowEqual","k1","getDataKeys","undefined","k2","key","equalArraysOrString","obj","getOwnPropertySymbols","aSorted","sort","bSorted","every","val","index","last","wrapIntoObservable","wrapIntoPromise","pathCompareMap","equalSegmentGroups","containsSegmentGroup","paramCompareMap","equalParams","containsParams","ignored","isActive","url","router","matchOptions","urlTree","UrlTree","parseUrl","containsTree","lastSuccessfulNavigation","finalUrl","container","containee","options","paths","root","matrixParams","queryParams","fragment","equalPath","matrixParamsMatch","numberOfChildren","c","children","containsSegmentGroupHelper","containeePaths","current","containerPaths","containeeSegment","parameters","_queryParamMap","UrlSegmentGroup","ngDevMode","queryParamMap","toString","DEFAULT_SERIALIZER","serialize","parent","values","forEach","serializePaths","UrlSegment","_parameterMap","parameterMap","serializePath","equalSegments","as","bs","mapChildrenIntoArray","fn","res","entries","childOutlet","child","UrlSerializer","ɵfac","UrlSerializer_Factory","__ngFactoryType__","ɵprov","ɵɵdefineInjectable","token","factory","DefaultUrlSerializer","providedIn","ɵsetClassMetadata","type","args","useFactory","parse","p","UrlParser","parseRootSegment","parseQueryParams","parseFragment","tree","serializeSegment","query","serializeQueryParams","encodeUriFragment","join","primary","k","push","encodeUriString","s","encodeURIComponent","replace","encodeUriQuery","encodeURI","encodeUriSegment","decode","decodeURIComponent","decodeQuery","serializeMatrixParams","strParams","SEGMENT_RE","matchSegments","str","match","MATRIX_PARAM_SEGMENT_RE","matchMatrixKeySegments","QUERY_PARAM_RE","matchQueryParams","QUERY_PARAM_VALUE_RE","matchUrlQueryParamValue","remaining","consumeOptional","peekStartsWith","parseChildren","parseQueryParam","parseSegment","capture","parseParens","parseMatrixParams","parseParam","valueMatch","decodedKey","decodedVal","currentVal","allowPrimary","outletName","startsWith","createRoot","rootCandidate","squashSegmentGroup","newChildren","childCandidate","grandChildOutlet","grandChild","mergeTrivialChildren","isUrlTree","createUrlTreeFromSnapshot","relativeTo","commands","urlSerializer","relativeToUrlSegmentGroup","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","targetGroup","createSegmentGroupFromRouteRecursive","currentRoute","childOutlets","childSnapshot","outlet","rootSegmentGroup","nav","computeNavigation","toRoot","position","findStartingPositionForTargetGroup","newSegmentGroup","processChildren","updateSegmentGroupChildren","updateSegmentGroup","isMatrixParams","command","outlets","segmentPath","isCommandWithOutlets","normalizeQueryParams","oldRoot","oldSegmentGroup","qp","replaceSegment","newRoot","oldSegment","newSegment","Navigation","isAbsolute","numberOfDoubleDots","cmdWithOutlet","find","reduce","cmd","cmdIdx","urlPart","partIndex","Position","target","NaN","modifier","createPositionApplyingDoubleDots","group","g","ci","dd","getOutlets","startIndex","m","prefixedWith","slicedCommands","commandIndex","pathIndex","createNewSegmentGroup","some","o","childrenOfEmptyChild","currentCommandIndex","currentPathIndex","noMatch","curr","compare","createNewSegmentChildren","stringify","IMPERATIVE_NAVIGATION","EventType","RouterEvent","id","NavigationStart","navigationTrigger","restoredState","NavigationEnd","urlAfterRedirects","NavigationCancellationCode","NavigationSkippedCode","NavigationCancel","reason","code","isRedirectingEvent","event","Redirect","SupersededByNewNavigation","NavigationSkipped","NavigationError","RoutesRecognized","state","GuardsCheckStart","GuardsCheckEnd","shouldActivate","ResolveStart","ResolveEnd","RouteConfigLoadStart","RouteConfigLoadEnd","ChildActivationStart","snapshot","routeConfig","ChildActivationEnd","ActivationStart","ActivationEnd","Scroll","routerEvent","anchor","scrollBehavior","pos","BeforeActivateRoutes","RedirectRequest","navigationBehaviorOptions","isPublicRouterEvent","e","stringifyEvent","OutletContext","rootInjector","attachRef","injector","_environmentInjector","ChildrenOutletContexts","contexts","Map","onChildOutletCreated","childName","context","getOrCreateContext","set","onChildOutletDestroyed","getContext","onOutletDeactivated","onOutletReAttached","ChildrenOutletContexts_Factory","ɵɵinject","Tree","_root","t","pathFromRoot","n","findNode","firstChild","siblings","findPath","cc","node","unshift","TreeNode","nodeChildrenAsMap","RouterState","setRouterState","createEmptyState","rootComponent","createEmptyStateSnapshot","emptyUrl","emptyParams","emptyData","emptyQueryParams","activated","ActivatedRoute","ActivatedRouteSnapshot","RouterStateSnapshot","urlSubject","paramsSubject","queryParamsSubject","fragmentSubject","dataSubject","component","_futureSnapshot","_routerState","_paramMap","title","data","futureSnapshot","d","paramMap","getInherited","paramsInheritanceStrategy","inherited","loadComponent","_resolvedData","hasStaticTitle","_resolve","environmentInjector","matched","serializeNode","advanceActivatedRoute","currentSnapshot","nextSnapshot","equalParamsAndUrlSegments","equalUrlParams","parentsMismatch","config","ROUTER_OUTLET_DATA","RouterOutlet","activatedComponentRef","_activatedRoute","activateEvents","deactivateEvents","attachEvents","detachEvents","routerOutletData","debugName","parentContexts","location","changeDetector","inputBinder","INPUT_BINDER","optional","supportsBindingToComponentInputs","ngOnChanges","changes","firstChange","previousValue","isTrackedInParentContexts","deactivate","initializeOutletWithName","ngOnDestroy","unsubscribeFromRouteData","ngOnInit","attach","activateWith","isActivated","instance","activatedRoute","activatedRouteData","detach","cmp","emit","ref","insert","hostView","bindActivatedRouteToOutletComponent","destroy","childContexts","OutletInjector","createComponent","markForCheck","RouterOutlet_Factory","ɵdir","ɵɵdefineDirective","selectors","inputs","outputs","exportAs","features","ɵɵNgOnChangesFeature","selector","isSignal","alias","required","outletData","notFoundValue","RoutedComponentInputBinder","outletDataSubscriptions","subscribeToRouteData","unsubscribe","delete","dataSubscription","mirror","templateName","setInput","RoutedComponentInputBinder_Factory","ɵEmptyOutletComponent","ɵEmptyOutletComponent_Factory","ɵcmp","ɵɵdefineComponent","decls","vars","template","_EmptyOutletComponent_Template","rf","ctx","ɵɵelement","dependencies","encapsulation","imports","standardizeConfig","r","loadChildren","createRouterState","routeReuseStrategy","prevState","createNode","shouldReuseRoute","createOrReuseChildren","shouldAttach","detachedRouteHandle","retrieve","createActivatedRoute","RedirectCommand","redirectTo","NAVIGATION_CANCELING_ERROR","redirectingNavigationError","redirect","navigationCancelingError","message","Error","cancellationCode","isRedirectingNavigationCancelingError","isNavigationCancelingError","warnedAboutUnsupportedInputBinding","ActivateRoutes","futureState","currState","forwardEvent","inputBindingEnabled","activate","futureRoot","currRoot","deactivateChildRoutes","activateChildRoutes","futureNode","currNode","futureChild","childOutletName","deactivateRoutes","deactivateRouteAndItsChildren","parentContext","future","shouldDetach","detachAndStoreRouteSubtree","deactivateRouteAndOutlet","treeNode","componentRef","store","activateRoutes","stored","console","warn","CanActivate","CanDeactivate","getAllRouteGuards","getChildRouteGuards","getCanActivateChild","canActivateChild","guards","getTokenOrFunctionIdentity","tokenOrFunction","NOT_FOUND","result","futurePath","checks","canDeactivateChecks","canActivateChecks","prevChildren","getRouteGuards","shouldRun","shouldRunGuardsAndResolvers","runGuardsAndResolvers","mode","isFunction","isBoolean","isCanLoad","guard","canLoad","isCanActivate","canActivate","isCanActivateChild","isCanDeactivate","canDeactivate","isCanMatch","canMatch","isEmptyError","INITIAL_VALUE","prioritizedGuardValue","obs","results","isRedirect","item","abortSignalToObservable","aborted","subscriber","handler","complete","addEventListener","removeEventListener","takeUntilAbort","checkGuards","targetSnapshot","guardsResult","runCanDeactivateChecks","runCanActivateChecks","futureRSS","currRSS","check","runCanDeactivate","fireChildActivationStart","fireActivationStart","runCanActivateChild","runCanActivate","futureARS","canActivateObservables","closestInjector","guardVal","canActivateChildGuards","reverse","_","canActivateChildGuardsMapped","guardsMapped","currARS","canDeactivateObservables","runCanLoadGuards","abortSignal","canLoadObservables","injectionToken","obs$","redirectIfUrlTree","runCanMatchGuards","canMatchObservables","NoMatch","setPrototypeOf","AbsoluteRedirect","namedOutletsRedirect","canLoadFails","GuardRejected","ApplyRedirects","lineralizeSegments","_asyncToGenerator","applyRedirectCommands","_this","getRedirectResult","newTree","applyRedirectCreateUrlTree","createSegmentGroup","createQueryParams","redirectToParams","actualParams","copySourceValue","sourceName","updatedSegments","createSegments","redirectToSegments","actualSegments","findPosParam","findOrReturn","redirectToUrlSegment","idx","splice","redirectToFn","getOrCreateRouteInjectorIfNeeded","currentInjector","providers","_injector","validateConfig","parentPath","requireStandaloneComponents","fullPath","getFullPath","validateNode","assertStandalone","matcher","charAt","exp","getOutlet","sortByMatchingOutlets","routes","sortedConfig","consumedSegments","remainingSegments","positionalParamSegments","matchWithChecks","slicedSegments","containsEmptyPathMatchesWithNamedOutlets","createChildrenForEmptyPaths","containsEmptyPathMatches","addEmptyPathsToChildrenIfNeeded","emptyPathMatch","primarySegment","noLeftoversInUrl","NoLeftoversInUrl","recognize$1","_x","_x2","_x3","_x4","_x5","_x6","_recognize$","apply","arguments","configLoader","rootComponentType","Recognizer","recognize","MAX_ALLOWED_REDIRECTS","applyRedirects","absoluteRedirectCount","allowRedirects","noMatchError","_this2","rootSnapshot","rootNode","routeState","_this3","freeze","processSegmentGroup","parentRoute","_this4","processSegment","_this5","outletChildren","mergedChildren","mergeEmptyPathMatches","checkOutletNameUniqueness","sortActivatedRouteSnapshots","_this6","processSegmentAgainstRoute","rawSegment","_this7","matchSegmentAgainstRoute","expandSegmentAgainstRouteUsingRedirect","_this8","getData","_loadedComponent","getResolve","newSegments","_this9","childConfig","getChildConfig","childInjector","_loadedInjector","matchedOnOutlet","_this0","_loadedRoutes","ngModuleFactory","_loadedNgModuleFactory","create","shouldLoadResult","cfg","nodes","localeCompare","hasEmptyPathConfig","mergedNodes","Set","duplicateEmptyPathNode","resultNode","add","mergedNode","names","routeWithSameOutletName","serializer","_ref","extractedUrl","_x7","resolveData","routesWithResolversToRun","routesNeedingDataUpdates","newRoute","flattenRouteTree","routesProcessed","runResolve","size","descendants","flat","resolveNode","resolvedData","getResolver","resolver","resolverValue","switchTap","nextResult","TitleStrategy","buildTitle","pageTitle","getResolvedTitleForRoute","TitleStrategy_Factory","DefaultTitleStrategy","updateTitle","setTitle","DefaultTitleStrategy_Factory","Title","ROUTER_CONFIGURATION","ROUTES","RouterConfigLoader","componentLoaders","WeakMap","childrenLoaders","onLoadStartListener","onLoadEndListener","compiler","_this1","loader","loaded","maybeResolveResources","maybeUnwrapDefaultExport","parentInjector","_this10","RouterConfigLoader_Factory","_x8","_x9","_x0","_x1","_loadChildren","factoryOrRoutes","compileModuleAsync","rawRoutes","self","isWrappedDefaultExport","_x10","_maybeResolveResources","ngJitMode","fetch","UrlHandlingStrategy","UrlHandlingStrategy_Factory","DefaultUrlHandlingStrategy","shouldProcessUrl","extract","merge","newUrlPart","wholeUrl","DefaultUrlHandlingStrategy_Factory","CREATE_VIEW_TRANSITION","VIEW_TRANSITION_OPTIONS","createViewTransition","to","transitionOptions","document","startViewTransition","skipNextTransition","setTimeout","resolveViewTransitionStarted","viewTransitionStarted","transition","createRenderPromise","updateCallbackDone","catch","ready","finished","onViewTransitionCreated","read","noop","NAVIGATION_ERROR_HANDLER","NavigationTransitions","currentNavigation","equal","currentTransition","events","transitionAbortWithErrorSubject","destroyRef","rootContexts","titleStrategy","urlHandlingStrategy","navigationErrorHandler","navigationId","hasRequestedNavigation","transitions","afterPreactivation","destroyed","onLoadStart","onLoadEnd","onDestroy","handleNavigationRequest","request","rawUrl","targetRouterState","setupNavigations","overallTransitionState","completedOrAborted","abortController","AbortController","shouldContinueNavigation","cancellationReason","cancelNavigationTransition","initialUrl","targetBrowserUrl","extras","browserUrl","trigger","previousNavigation","abort","urlTransition","navigated","isUpdatingInternalState","isUpdatedBrowserUrl","onSameUrlNavigation","IgnoredSameUrlNavigation","update","routesRecognized","currentRawUrl","navStart","skipLocationChange","replaceUrl","IgnoredByUrlHandlingStrategy","guardsStart","evt","guardsEnd","resolveStart","dataResolved","resolveEnd","NoDataFromResolver","loadComponents","loaders","then","loadedComponent","all","currentRouterState","Aborted","cancelationReason","navigationError","navigationErrorHandlerResult","ee","resolveNavigationPromiseOnError","navCancel","currentUrlTree","currentBrowserUrl","NavigationTransitions_Factory","isBrowserTriggeredNavigation","ROUTE_INJECTOR_CLEANUP","routeInjectorCleanup","routerState","activeRoutes","collectDescendants","storedHandles","retrieveStoredRouteHandles","handle","internalHandle","destroyUnusedInjectors","strategy","inheritedForceDestroy","shouldDestroyCurrentRoute","shouldDestroyInjector","destroyDetachedRouteHandle","RouteReuseStrategy","RouteReuseStrategy_Factory","DefaultRouteReuseStrategy","BaseRouteReuseStrategy","detachedTree","ɵDefaultRouteReuseStrategy_BaseFactory","DefaultRouteReuseStrategy_Factory","ɵɵgetInheritedFactory","StateManager","canceledNavigationResolution","urlUpdateStrategy","getCurrentUrlTree","rawUrlTree","getRawUrlTree","createBrowserPath","commitTransition","getRouterState","_stateMemento","createStateMemento","stateMemento","updateStateMemento","getState","StateManager_Factory","HistoryStateManager","currentPageId","lastSuccessfulId","browserPageId","ɵrouterPageId","registerNonRouterCurrentEntryChangeListener","listener","handleRouterEvent","setBrowserUrl","restoreHistory","isCurrentPathEqualTo","currentBrowserPageId","newState","generateNgRouterState","replaceState","go","navigation","restoringFromCaughtError","targetPagePosition","historyGo","resetInternalState","resetUrlToCurrentUrlTree","routerPageId","ɵHistoryStateManager_BaseFactory","HistoryStateManager_Factory","afterNextNavigation","action","redirecting","exactMatchOptions","subsetMatchOptions","Router","stateManager","disposed","nonRouterCurrentEntryChangeSubscription","pendingTasks","navigationTransitions","_events","injectorCleanup","componentInputBindingEnabled","asReadonly","resetConfig","subscribeToNavigationEvents","eventsSubscription","subscription","opts","mergedTree","scroll","info","scheduleNavigation","promise","resetRootComponentType","initialNavigation","setUpLocationChangeListener","navigateToSyncWithBrowser","stateCopy","serializeUrl","getCurrentNavigation","dispose","createUrlTree","navigationExtras","queryParamsHandling","preserveFragment","f","q","defaultQueryParamsHandling","removeEmptyProps","relativeToSnapshot","navigateByUrl","navigate","validateCommands","priorPromise","rej","taskId","queueMicrotask","remove","Router_Factory"],"sources":["/home/dfirth2/fiber_route_calculator/frontend-angular/node_modules/@angular/router/fesm2022/_router-chunk.mjs"],"sourcesContent":["/**\n * @license Angular v21.1.1\n * (c) 2010-2026 Google LLC. https://angular.dev/\n * License: MIT\n */\n\nimport { DOCUMENT, Location } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ɵisPromise as _isPromise, computed, ɵRuntimeError as _RuntimeError, Injectable, InjectionToken, EventEmitter, input, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, reflectComponentType, Component, runInInjectionContext, ɵisInjectable as _isInjectable, ɵisNgModule as _isNgModule, isStandalone, createEnvironmentInjector, Compiler, NgModuleFactory, ɵresolveComponentResources as _resolveComponentResources, afterNextRender, signal, EnvironmentInjector, DestroyRef, untracked, ɵConsole as _Console, ɵPendingTasksInternal as _PendingTasksInternal, ɵINTERNAL_APPLICATION_ERROR_HANDLER as _INTERNAL_APPLICATION_ERROR_HANDLER, ɵformatRuntimeError as _formatRuntimeError } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, Observable, concat, defer, pipe, EMPTY, throwError, Subject, Subscription } from 'rxjs';\nimport { first, map, switchMap, take, startWith, filter, takeUntil, mergeMap, concatMap, tap, takeLast, catchError, finalize } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\n\nconst PRIMARY_OUTLET = 'primary';\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  params;\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\nfunction matchParts(routeParts, urlSegments, posParams) {\n  for (let i = 0; i < routeParts.length; i++) {\n    const part = routeParts[i];\n    const segment = urlSegments[i];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  const wildcardIndex = parts.indexOf('**');\n  if (wildcardIndex === -1) {\n    if (parts.length > segments.length) {\n      return null;\n    }\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n      return null;\n    }\n    const posParams = {};\n    const consumed = segments.slice(0, parts.length);\n    if (!matchParts(parts, consumed, posParams)) {\n      return null;\n    }\n    return {\n      consumed,\n      posParams\n    };\n  }\n  if (wildcardIndex !== parts.lastIndexOf('**')) {\n    return null;\n  }\n  const pre = parts.slice(0, wildcardIndex);\n  const post = parts.slice(wildcardIndex + 1);\n  if (pre.length + post.length > segments.length) {\n    return null;\n  }\n  if (route.pathMatch === 'full' && segmentGroup.hasChildren() && route.path !== '**') {\n    return null;\n  }\n  const posParams = {};\n  if (!matchParts(pre, segments.slice(0, pre.length), posParams)) {\n    return null;\n  }\n  if (!matchParts(post, segments.slice(segments.length - post.length), posParams)) {\n    return null;\n  }\n  return {\n    consumed: segments,\n    posParams\n  };\n}\n\nfunction firstValueFrom(source) {\n  return new Promise((resolve, reject) => {\n    source.pipe(first()).subscribe({\n      next: value => resolve(value),\n      error: err => reject(err)\n    });\n  });\n}\n\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (_isPromise(value)) {\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nfunction wrapIntoPromise(value) {\n  if (isObservable(value)) {\n    return firstValueFrom(value);\n  }\n  return Promise.resolve(value);\n}\n\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction isActive(url, router, matchOptions) {\n  const urlTree = url instanceof UrlTree ? url : router.parseUrl(url);\n  return computed(() => containsTree(router.lastSuccessfulNavigation()?.finalUrl ?? new UrlTree(), urlTree, matchOptions));\n}\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\nclass UrlTree {\n  root;\n  queryParams;\n  fragment;\n  _queryParamMap;\n  constructor(root = new UrlSegmentGroup([], {}), queryParams = {}, fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new _RuntimeError(4015, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\nclass UrlSegmentGroup {\n  segments;\n  children;\n  parent = null;\n  constructor(segments, children) {\n    this.segments = segments;\n    this.children = children;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  toString() {\n    return serializePaths(this);\n  }\n}\nclass UrlSegment {\n  path;\n  parameters;\n  _parameterMap;\n  constructor(path, parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\nclass UrlSerializer {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: UrlSerializer,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: UrlSerializer,\n    providedIn: 'root',\n    useFactory: () => new DefaultUrlSerializer()\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: UrlSerializer,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => new DefaultUrlSerializer()\n    }]\n  }]\n});\nclass DefaultUrlSerializer {\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  url;\n  remaining;\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new _RuntimeError(4009, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      params[decodedKey] = decodedVal;\n    }\n  }\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new _RuntimeError(4010, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName ?? PRIMARY_OUTLET] = Object.keys(children).length === 1 && children[PRIMARY_OUTLET] ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new _RuntimeError(4011, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\n\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null, urlSerializer = new DefaultUrlSerializer()) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment, urlSerializer);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment, urlSerializer) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment, urlSerializer);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment, urlSerializer);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction normalizeQueryParams(k, v, urlSerializer) {\n  k ||= 'ɵ';\n  const tree = new UrlTree();\n  tree.queryParams = {\n    [k]: v\n  };\n  return urlSerializer.parse(urlSerializer.serialize(tree)).queryParams[k];\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer) {\n  const qp = {};\n  for (const [key, value] of Object.entries(queryParams ?? {})) {\n    qp[key] = Array.isArray(value) ? value.map(v => normalizeQueryParams(key, v, urlSerializer)) : normalizeQueryParams(key, value, urlSerializer);\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  isAbsolute;\n  numberOfDoubleDots;\n  commands;\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new _RuntimeError(4003, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new _RuntimeError(4004, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') ; else if (partIndex == 0 && urlPart === '') {\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  segmentGroup;\n  processChildren;\n  index;\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new _RuntimeError(4005, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\n\nconst IMPERATIVE_NAVIGATION = 'imperative';\nvar EventType;\n(function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n})(EventType || (EventType = {}));\nclass RouterEvent {\n  id;\n  url;\n  constructor(id, url) {\n    this.id = id;\n    this.url = url;\n  }\n}\nclass NavigationStart extends RouterEvent {\n  type = EventType.NavigationStart;\n  navigationTrigger;\n  restoredState;\n  constructor(id, url, navigationTrigger = 'imperative', restoredState = null) {\n    super(id, url);\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationEnd extends RouterEvent {\n  urlAfterRedirects;\n  type = EventType.NavigationEnd;\n  constructor(id, url, urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n  }\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\nvar NavigationCancellationCode;\n(function (NavigationCancellationCode) {\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  NavigationCancellationCode[NavigationCancellationCode[\"Aborted\"] = 4] = \"Aborted\";\n})(NavigationCancellationCode || (NavigationCancellationCode = {}));\nvar NavigationSkippedCode;\n(function (NavigationSkippedCode) {\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n})(NavigationSkippedCode || (NavigationSkippedCode = {}));\nclass NavigationCancel extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationCancel;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nfunction isRedirectingEvent(event) {\n  return event instanceof NavigationCancel && (event.code === NavigationCancellationCode.Redirect || event.code === NavigationCancellationCode.SupersededByNewNavigation);\n}\nclass NavigationSkipped extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationSkipped;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n}\nclass NavigationError extends RouterEvent {\n  error;\n  target;\n  type = EventType.NavigationError;\n  constructor(id, url, error, target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n  }\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\nclass RoutesRecognized extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.RoutesRecognized;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.GuardsCheckStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  shouldActivate;\n  type = EventType.GuardsCheckEnd;\n  constructor(id, url, urlAfterRedirects, state, shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\nclass ResolveStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass ResolveEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveEnd;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass RouteConfigLoadStart {\n  route;\n  type = EventType.RouteConfigLoadStart;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\nclass RouteConfigLoadEnd {\n  route;\n  type = EventType.RouteConfigLoadEnd;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\nclass ChildActivationStart {\n  snapshot;\n  type = EventType.ChildActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\nclass ChildActivationEnd {\n  snapshot;\n  type = EventType.ChildActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\nclass ActivationStart {\n  snapshot;\n  type = EventType.ActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\nclass ActivationEnd {\n  snapshot;\n  type = EventType.ActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\nclass Scroll {\n  routerEvent;\n  position;\n  anchor;\n  scrollBehavior;\n  type = EventType.Scroll;\n  constructor(routerEvent, position, anchor, scrollBehavior) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n    this.scrollBehavior = scrollBehavior;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  url;\n  navigationBehaviorOptions;\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\n\nclass OutletContext {\n  rootInjector;\n  outlet = null;\n  route = null;\n  children;\n  attachRef = null;\n  get injector() {\n    return this.route?.snapshot._environmentInjector ?? this.rootInjector;\n  }\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n    this.children = new ChildrenOutletContexts(this.rootInjector);\n  }\n}\nclass ChildrenOutletContexts {\n  rootInjector;\n  contexts = new Map();\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n  }\n  onChildOutletCreated(childName, outlet) {\n    const context = this.getOrCreateContext(childName);\n    context.outlet = outlet;\n    this.contexts.set(childName, context);\n  }\n  onChildOutletDestroyed(childName) {\n    const context = this.getContext(childName);\n    if (context) {\n      context.outlet = null;\n      context.attachRef = null;\n    }\n  }\n  onOutletDeactivated() {\n    const contexts = this.contexts;\n    this.contexts = new Map();\n    return contexts;\n  }\n  onOutletReAttached(contexts) {\n    this.contexts = contexts;\n  }\n  getOrCreateContext(childName) {\n    let context = this.getContext(childName);\n    if (!context) {\n      context = new OutletContext(this.rootInjector);\n      this.contexts.set(childName, context);\n    }\n    return context;\n  }\n  getContext(childName) {\n    return this.contexts.get(childName) || null;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: ChildrenOutletContexts,\n    deps: [{\n      token: i0.EnvironmentInjector\n    }],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: ChildrenOutletContexts,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: ChildrenOutletContexts,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => [{\n    type: i0.EnvironmentInjector\n  }]\n});\n\nclass Tree {\n  _root;\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  value;\n  children;\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\n\nclass RouterState extends Tree {\n  snapshot;\n  constructor(root, snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent, injector) {\n  const snapshot = createEmptyStateSnapshot(rootComponent, injector);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent, injector) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {}, injector);\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\nclass ActivatedRoute {\n  urlSubject;\n  paramsSubject;\n  queryParamsSubject;\n  fragmentSubject;\n  dataSubject;\n  outlet;\n  component;\n  snapshot;\n  _futureSnapshot;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  title;\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  constructor(urlSubject, paramsSubject, queryParamsSubject, fragmentSubject, dataSubject, outlet, component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' || routeConfig?.path === '' || !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...parent.data,\n        ...routeConfig?.data,\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\nclass ActivatedRouteSnapshot {\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  outlet;\n  component;\n  routeConfig;\n  _resolve;\n  _resolvedData;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  _environmentInjector;\n  get title() {\n    return this.data?.[RouteTitleKey];\n  }\n  constructor(url, params, queryParams, fragment, data, outlet, component, routeConfig, resolve, environmentInjector) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n    this._environmentInjector = environmentInjector;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\nclass RouterStateSnapshot extends Tree {\n  url;\n  constructor(url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\n\nconst ROUTER_OUTLET_DATA = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RouterOutlet data' : '');\nclass RouterOutlet {\n  activated = null;\n  get activatedComponentRef() {\n    return this.activated;\n  }\n  _activatedRoute = null;\n  name = PRIMARY_OUTLET;\n  activateEvents = new EventEmitter();\n  deactivateEvents = new EventEmitter();\n  attachEvents = new EventEmitter();\n  detachEvents = new EventEmitter();\n  routerOutletData = input(...(ngDevMode ? [undefined, {\n    debugName: \"routerOutletData\"\n  }] : []));\n  parentContexts = inject(ChildrenOutletContexts);\n  location = inject(ViewContainerRef);\n  changeDetector = inject(ChangeDetectorRef);\n  inputBinder = inject(INPUT_BINDER, {\n    optional: true\n  });\n  supportsBindingToComponentInputs = true;\n  ngOnChanges(changes) {\n    if (changes['name']) {\n      const {\n        firstChange,\n        previousValue\n      } = changes['name'];\n      if (firstChange) {\n        return;\n      }\n      if (this.isTrackedInParentContexts(previousValue)) {\n        this.deactivate();\n        this.parentContexts.onChildOutletDestroyed(previousValue);\n      }\n      this.initializeOutletWithName();\n    }\n  }\n  ngOnDestroy() {\n    if (this.isTrackedInParentContexts(this.name)) {\n      this.parentContexts.onChildOutletDestroyed(this.name);\n    }\n    this.inputBinder?.unsubscribeFromRouteData(this);\n  }\n  isTrackedInParentContexts(outletName) {\n    return this.parentContexts.getContext(outletName)?.outlet === this;\n  }\n  ngOnInit() {\n    this.initializeOutletWithName();\n  }\n  initializeOutletWithName() {\n    this.parentContexts.onChildOutletCreated(this.name, this);\n    if (this.activated) {\n      return;\n    }\n    const context = this.parentContexts.getContext(this.name);\n    if (context?.route) {\n      if (context.attachRef) {\n        this.attach(context.attachRef, context.route);\n      } else {\n        this.activateWith(context.route, context.injector);\n      }\n    }\n  }\n  get isActivated() {\n    return !!this.activated;\n  }\n  get component() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this.activated.instance;\n  }\n  get activatedRoute() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this._activatedRoute;\n  }\n  get activatedRouteData() {\n    if (this._activatedRoute) {\n      return this._activatedRoute.snapshot.data;\n    }\n    return {};\n  }\n  detach() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    this.location.detach();\n    const cmp = this.activated;\n    this.activated = null;\n    this._activatedRoute = null;\n    this.detachEvents.emit(cmp.instance);\n    return cmp;\n  }\n  attach(ref, activatedRoute) {\n    this.activated = ref;\n    this._activatedRoute = activatedRoute;\n    this.location.insert(ref.hostView);\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.attachEvents.emit(ref.instance);\n  }\n  deactivate() {\n    if (this.activated) {\n      const c = this.component;\n      this.activated.destroy();\n      this.activated = null;\n      this._activatedRoute = null;\n      this.deactivateEvents.emit(c);\n    }\n  }\n  activateWith(activatedRoute, environmentInjector) {\n    if (this.isActivated) {\n      throw new _RuntimeError(4013, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n    }\n    this._activatedRoute = activatedRoute;\n    const location = this.location;\n    const snapshot = activatedRoute.snapshot;\n    const component = snapshot.component;\n    const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n    const injector = new OutletInjector(activatedRoute, childContexts, location.injector, this.routerOutletData);\n    this.activated = location.createComponent(component, {\n      index: location.length,\n      injector,\n      environmentInjector: environmentInjector\n    });\n    this.changeDetector.markForCheck();\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.activateEvents.emit(this.activated.instance);\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RouterOutlet,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Directive\n  });\n  static ɵdir = i0.ɵɵngDeclareDirective({\n    minVersion: \"17.1.0\",\n    version: \"21.1.1\",\n    type: RouterOutlet,\n    isStandalone: true,\n    selector: \"router-outlet\",\n    inputs: {\n      name: {\n        classPropertyName: \"name\",\n        publicName: \"name\",\n        isSignal: false,\n        isRequired: false,\n        transformFunction: null\n      },\n      routerOutletData: {\n        classPropertyName: \"routerOutletData\",\n        publicName: \"routerOutletData\",\n        isSignal: true,\n        isRequired: false,\n        transformFunction: null\n      }\n    },\n    outputs: {\n      activateEvents: \"activate\",\n      deactivateEvents: \"deactivate\",\n      attachEvents: \"attach\",\n      detachEvents: \"detach\"\n    },\n    exportAs: [\"outlet\"],\n    usesOnChanges: true,\n    ngImport: i0\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: RouterOutlet,\n  decorators: [{\n    type: Directive,\n    args: [{\n      selector: 'router-outlet',\n      exportAs: 'outlet'\n    }]\n  }],\n  propDecorators: {\n    name: [{\n      type: Input\n    }],\n    activateEvents: [{\n      type: Output,\n      args: ['activate']\n    }],\n    deactivateEvents: [{\n      type: Output,\n      args: ['deactivate']\n    }],\n    attachEvents: [{\n      type: Output,\n      args: ['attach']\n    }],\n    detachEvents: [{\n      type: Output,\n      args: ['detach']\n    }],\n    routerOutletData: [{\n      type: i0.Input,\n      args: [{\n        isSignal: true,\n        alias: \"routerOutletData\",\n        required: false\n      }]\n    }]\n  }\n});\nclass OutletInjector {\n  route;\n  childContexts;\n  parent;\n  outletData;\n  constructor(route, childContexts, parent, outletData) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n    this.outletData = outletData;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    if (token === ROUTER_OUTLET_DATA) {\n      return this.outletData;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'Router Input Binder' : '');\nclass RoutedComponentInputBinder {\n  outletDataSubscriptions = new Map();\n  bindActivatedRouteToOutletComponent(outlet) {\n    this.unsubscribeFromRouteData(outlet);\n    this.subscribeToRouteData(outlet);\n  }\n  unsubscribeFromRouteData(outlet) {\n    this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n    this.outletDataSubscriptions.delete(outlet);\n  }\n  subscribeToRouteData(outlet) {\n    const {\n      activatedRoute\n    } = outlet;\n    const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n      data = {\n        ...queryParams,\n        ...params,\n        ...data\n      };\n      if (index === 0) {\n        return of(data);\n      }\n      return Promise.resolve(data);\n    })).subscribe(data => {\n      if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      const mirror = reflectComponentType(activatedRoute.component);\n      if (!mirror) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      for (const {\n        templateName\n      } of mirror.inputs) {\n        outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n      }\n    });\n    this.outletDataSubscriptions.set(outlet, dataSubscription);\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RoutedComponentInputBinder,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RoutedComponentInputBinder\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: RoutedComponentInputBinder,\n  decorators: [{\n    type: Injectable\n  }]\n});\n\nclass ɵEmptyOutletComponent {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: ɵEmptyOutletComponent,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Component\n  });\n  static ɵcmp = i0.ɵɵngDeclareComponent({\n    minVersion: \"14.0.0\",\n    version: \"21.1.1\",\n    type: ɵEmptyOutletComponent,\n    isStandalone: true,\n    selector: \"ng-component\",\n    exportAs: [\"emptyRouterOutlet\"],\n    ngImport: i0,\n    template: `<router-outlet />`,\n    isInline: true,\n    dependencies: [{\n      kind: \"directive\",\n      type: RouterOutlet,\n      selector: \"router-outlet\",\n      inputs: [\"name\", \"routerOutletData\"],\n      outputs: [\"activate\", \"deactivate\", \"attach\", \"detach\"],\n      exportAs: [\"outlet\"]\n    }]\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: ɵEmptyOutletComponent,\n  decorators: [{\n    type: Component,\n    args: [{\n      template: `<router-outlet />`,\n      imports: [RouterOutlet],\n      exportAs: 'emptyRouterOutlet'\n    }]\n  }]\n});\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\n\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\n\nclass RedirectCommand {\n  redirectTo;\n  navigationBehaviorOptions;\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\n\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\n\nlet warnedAboutUnsupportedInputBinding = false;\nclass ActivateRoutes {\n  routeReuseStrategy;\n  futureState;\n  currState;\n  forwardEvent;\n  inputBindingEnabled;\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        context.outlet.deactivate();\n        context.children.onOutletDeactivated();\n      }\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          context.attachRef = null;\n          context.route = future;\n          if (context.outlet) {\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\n\nclass CanActivate {\n  path;\n  route;\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  component;\n  route;\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !_isInjectable(tokenOrFunction)) {\n      return tokenOrFunction;\n    } else {\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return runInInjectionContext(future._environmentInjector, () => mode(curr, future));\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\n\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\n\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          return result;\n        }\n      }\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\n\nfunction abortSignalToObservable(signal) {\n  if (signal.aborted) {\n    return of(undefined).pipe(take(1));\n  }\n  return new Observable(subscriber => {\n    const handler = () => {\n      subscriber.next();\n      subscriber.complete();\n    };\n    signal.addEventListener('abort', handler);\n    return () => signal.removeEventListener('abort', handler);\n  });\n}\nfunction takeUntilAbort(signal) {\n  return takeUntil(abortSignalToObservable(signal));\n}\n\nfunction checkGuards(forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path), runCanActivate(futureSnapshot, check.route));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = futureARS._environmentInjector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = d.node._environmentInjector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = currARS._environmentInjector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    const obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal).pipe(takeUntilAbort(abortSignal));\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\n\nclass NoMatch extends Error {\n  segmentGroup;\n  constructor(segmentGroup) {\n    super();\n    this.segmentGroup = segmentGroup || null;\n    Object.setPrototypeOf(this, NoMatch.prototype);\n  }\n}\nclass AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n    Object.setPrototypeOf(this, AbsoluteRedirect.prototype);\n  }\n}\nfunction namedOutletsRedirect(redirectTo) {\n  throw new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`);\n}\nfunction canLoadFails(route) {\n  throw navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected);\n}\nclass ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  async lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return res;\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        throw namedOutletsRedirect(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  async applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    const redirect = await getRedirectResult(redirectTo, currentSnapshot, injector);\n    if (redirect instanceof UrlTree) {\n      throw new AbsoluteRedirect(redirect);\n    }\n    const newTree = this.applyRedirectCreateUrlTree(redirect, this.urlSerializer.parse(redirect), segments, posParams);\n    if (redirect[0] === '/') {\n      throw new AbsoluteRedirect(newTree);\n    }\n    return newTree;\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nfunction getRedirectResult(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return Promise.resolve(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title,\n    paramMap,\n    queryParamMap\n  } = currentSnapshot;\n  return firstValueFrom(wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title,\n    paramMap,\n    queryParamMap\n  }))));\n}\n\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && _isNgModule(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new _RuntimeError(4014, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo) {\n      if (route.component || route.loadComponent) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n      }\n      if (route.canMatch || route.canActivate) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and ${route.canMatch ? 'canMatch' : 'canActivate'} cannot be used together.` + `Redirects happen before guards are executed.`);\n      }\n    }\n    if (route.path && route.matcher) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new _RuntimeError(4014, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\n\nconst noMatch = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer, abortSignal) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal).pipe(map(v => v === true ? result : {\n    ...noMatch\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\n\nclass NoLeftoversInUrl {}\nasync function recognize$1(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n  return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  abortSignal;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.abortSignal = abortSignal;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  async recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    const {\n      children,\n      rootSnapshot\n    } = await this.match(rootSegmentGroup);\n    const rootNode = new TreeNode(rootSnapshot, children);\n    const routeState = new RouterStateSnapshot('', rootNode);\n    const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n    tree.queryParams = this.urlTree.queryParams;\n    routeState.url = this.urlSerializer.serialize(tree);\n    return {\n      state: routeState,\n      tree\n    };\n  }\n  async match(rootSegmentGroup) {\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {}, this.injector);\n    try {\n      const children = await this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot);\n      return {\n        children,\n        rootSnapshot\n      };\n    } catch (e) {\n      if (e instanceof AbsoluteRedirect) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }\n  }\n  async processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    const child = await this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute);\n    return child instanceof TreeNode ? [child] : [];\n  }\n  async processChildren(injector, config, segmentGroup, parentRoute) {\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    let children = [];\n    for (const childOutlet of childOutlets) {\n      const child = segmentGroup.children[childOutlet];\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      const outletChildren = await this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n      children.push(...outletChildren);\n    }\n    const mergedChildren = mergeEmptyPathMatches(children);\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      checkOutletNameUniqueness(mergedChildren);\n    }\n    sortActivatedRouteSnapshots(mergedChildren);\n    return mergedChildren;\n  }\n  async processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    for (const r of routes) {\n      try {\n        return await this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute);\n      } catch (e) {\n        if (e instanceof NoMatch || isEmptyError(e)) {\n          continue;\n        }\n        throw e;\n      }\n    }\n    if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n      return new NoLeftoversInUrl();\n    }\n    throw new NoMatch(segmentGroup);\n  }\n  async processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n      throw new NoMatch(rawSegment);\n    }\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    throw new NoMatch(rawSegment);\n  }\n  async expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) throw new NoMatch(segmentGroup);\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n        if (ngDevMode) {\n          throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route), injector);\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    if (this.abortSignal.aborted) {\n      throw new Error(this.abortSignal.reason);\n    }\n    const newTree = await this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    const newSegments = await this.applyRedirects.lineralizeSegments(route, newTree);\n    return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n  }\n  async matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    if (this.abortSignal.aborted) {\n      throw new Error(this.abortSignal.reason);\n    }\n    const result = await firstValueFrom(matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer, this.abortSignal));\n    if (route.path === '**') {\n      rawSegment.children = {};\n    }\n    if (!result?.matched) {\n      throw new NoMatch(rawSegment);\n    }\n    injector = route._injector ?? injector;\n    const {\n      routes: childConfig\n    } = await this.getChildConfig(injector, route, segments);\n    const childInjector = route._loadedInjector ?? injector;\n    const {\n      parameters,\n      consumedSegments,\n      remainingSegments\n    } = result;\n    const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route), injector);\n    const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n    snapshot.params = Object.freeze(inherited.params);\n    snapshot.data = Object.freeze(inherited.data);\n    const {\n      segmentGroup,\n      slicedSegments\n    } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n    if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n      const children = await this.processChildren(childInjector, childConfig, segmentGroup, snapshot);\n      return new TreeNode(snapshot, children);\n    }\n    if (childConfig.length === 0 && slicedSegments.length === 0) {\n      return new TreeNode(snapshot, []);\n    }\n    const matchedOnOutlet = getOutlet(route) === outlet;\n    const child = await this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot);\n    return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n  }\n  async getChildConfig(injector, route, segments) {\n    if (route.children) {\n      return {\n        routes: route.children,\n        injector\n      };\n    }\n    if (route.loadChildren) {\n      if (route._loadedRoutes !== undefined) {\n        const ngModuleFactory = route._loadedNgModuleFactory;\n        if (ngModuleFactory && !route._loadedInjector) {\n          route._loadedInjector = ngModuleFactory.create(injector).injector;\n        }\n        return {\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        };\n      }\n      if (this.abortSignal.aborted) {\n        throw new Error(this.abortSignal.reason);\n      }\n      const shouldLoadResult = await firstValueFrom(runCanLoadGuards(injector, route, segments, this.urlSerializer, this.abortSignal));\n      if (shouldLoadResult) {\n        const cfg = await this.configLoader.loadChildren(injector, route);\n        route._loadedRoutes = cfg.routes;\n        route._loadedInjector = cfg.injector;\n        route._loadedNgModuleFactory = cfg.factory;\n        return cfg;\n      }\n      throw canLoadFails(route);\n    }\n    return {\n      routes: [],\n      injector\n    };\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\n\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy, abortSignal) {\n  return mergeMap(async t => {\n    const {\n      state: targetSnapshot,\n      tree: urlAfterRedirects\n    } = await recognize$1(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy, abortSignal);\n    return {\n      ...t,\n      targetSnapshot,\n      urlAfterRedirects\n    };\n  });\n}\n\nfunction resolveData(paramsInheritanceStrategy) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return defer(() => {\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return resolveNode(resolve, futureARS, futureRSS).pipe(map(resolvedData => {\n      futureARS._resolvedData = resolvedData;\n      futureARS.data = {\n        ...futureARS.data,\n        ...resolvedData\n      };\n      return null;\n    }));\n  });\n}\nfunction resolveNode(resolve, futureARS, futureRSS) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), map(() => data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS) {\n  const closestInjector = futureARS._environmentInjector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\n\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\n\nclass TitleStrategy {\n  buildTitle(snapshot) {\n    let pageTitle;\n    let route = snapshot.root;\n    while (route !== undefined) {\n      pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n      route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n    }\n    return pageTitle;\n  }\n  getResolvedTitleForRoute(snapshot) {\n    return snapshot.data[RouteTitleKey];\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: TitleStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: TitleStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultTitleStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: TitleStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultTitleStrategy)\n    }]\n  }]\n});\nclass DefaultTitleStrategy extends TitleStrategy {\n  title;\n  constructor(title) {\n    super();\n    this.title = title;\n  }\n  updateTitle(snapshot) {\n    const title = this.buildTitle(snapshot);\n    if (title !== undefined) {\n      this.title.setTitle(title);\n    }\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultTitleStrategy,\n    deps: [{\n      token: i1.Title\n    }],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultTitleStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: DefaultTitleStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => [{\n    type: i1.Title\n  }]\n});\n\nconst ROUTER_CONFIGURATION = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  factory: () => ({})\n});\n\nconst ROUTES = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'ROUTES' : '');\nclass RouterConfigLoader {\n  componentLoaders = new WeakMap();\n  childrenLoaders = new WeakMap();\n  onLoadStartListener;\n  onLoadEndListener;\n  compiler = inject(Compiler);\n  async loadComponent(injector, route) {\n    if (this.componentLoaders.get(route)) {\n      return this.componentLoaders.get(route);\n    } else if (route._loadedComponent) {\n      return Promise.resolve(route._loadedComponent);\n    }\n    if (this.onLoadStartListener) {\n      this.onLoadStartListener(route);\n    }\n    const loader = (async () => {\n      try {\n        const loaded = await wrapIntoPromise(runInInjectionContext(injector, () => route.loadComponent()));\n        const component = await maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n        if (this.onLoadEndListener) {\n          this.onLoadEndListener(route);\n        }\n        (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n        route._loadedComponent = component;\n        return component;\n      } finally {\n        this.componentLoaders.delete(route);\n      }\n    })();\n    this.componentLoaders.set(route, loader);\n    return loader;\n  }\n  loadChildren(parentInjector, route) {\n    if (this.childrenLoaders.get(route)) {\n      return this.childrenLoaders.get(route);\n    } else if (route._loadedRoutes) {\n      return Promise.resolve({\n        routes: route._loadedRoutes,\n        injector: route._loadedInjector\n      });\n    }\n    if (this.onLoadStartListener) {\n      this.onLoadStartListener(route);\n    }\n    const loader = (async () => {\n      try {\n        const result = await loadChildren(route, this.compiler, parentInjector, this.onLoadEndListener);\n        route._loadedRoutes = result.routes;\n        route._loadedInjector = result.injector;\n        route._loadedNgModuleFactory = result.factory;\n        return result;\n      } finally {\n        this.childrenLoaders.delete(route);\n      }\n    })();\n    this.childrenLoaders.set(route, loader);\n    return loader;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RouterConfigLoader,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RouterConfigLoader,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: RouterConfigLoader,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\nasync function loadChildren(route, compiler, parentInjector, onLoadEndListener) {\n  const loaded = await wrapIntoPromise(runInInjectionContext(parentInjector, () => route.loadChildren()));\n  const t = await maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n  let factoryOrRoutes;\n  if (t instanceof NgModuleFactory || Array.isArray(t)) {\n    factoryOrRoutes = t;\n  } else {\n    factoryOrRoutes = await compiler.compileModuleAsync(t);\n  }\n  if (onLoadEndListener) {\n    onLoadEndListener(route);\n  }\n  let injector;\n  let rawRoutes;\n  let requireStandaloneComponents = false;\n  let factory = undefined;\n  if (Array.isArray(factoryOrRoutes)) {\n    rawRoutes = factoryOrRoutes;\n    requireStandaloneComponents = true;\n  } else {\n    injector = factoryOrRoutes.create(parentInjector).injector;\n    factory = factoryOrRoutes;\n    rawRoutes = injector.get(ROUTES, [], {\n      optional: true,\n      self: true\n    }).flat();\n  }\n  const routes = rawRoutes.map(standardizeConfig);\n  (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n  return {\n    routes,\n    injector,\n    factory\n  };\n}\nfunction isWrappedDefaultExport(value) {\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\nasync function maybeResolveResources(value) {\n  if ((typeof ngJitMode === 'undefined' || ngJitMode) && typeof fetch === 'function') {\n    try {\n      await _resolveComponentResources(fetch);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  return value;\n}\n\nclass UrlHandlingStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: UrlHandlingStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: UrlHandlingStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultUrlHandlingStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: UrlHandlingStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultUrlHandlingStrategy)\n    }]\n  }]\n});\nclass DefaultUrlHandlingStrategy {\n  shouldProcessUrl(url) {\n    return true;\n  }\n  extract(url) {\n    return url;\n  }\n  merge(newUrlPart, wholeUrl) {\n    return newUrlPart;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultUrlHandlingStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultUrlHandlingStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: DefaultUrlHandlingStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nconst CREATE_VIEW_TRANSITION = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition options' : '');\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n    transitionOptions.skipNextTransition = false;\n    return new Promise(resolve => setTimeout(resolve));\n  }\n  let resolveViewTransitionStarted;\n  const viewTransitionStarted = new Promise(resolve => {\n    resolveViewTransitionStarted = resolve;\n  });\n  const transition = document.startViewTransition(() => {\n    resolveViewTransitionStarted();\n    return createRenderPromise(injector);\n  });\n  transition.updateCallbackDone.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.ready.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.finished.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  const {\n    onViewTransitionCreated\n  } = transitionOptions;\n  if (onViewTransitionCreated) {\n    runInInjectionContext(injector, () => onViewTransitionCreated({\n      transition,\n      from,\n      to\n    }));\n  }\n  return viewTransitionStarted;\n}\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    afterNextRender({\n      read: () => setTimeout(resolve)\n    }, {\n      injector\n    });\n  });\n}\n\nconst noop = () => {};\nconst NAVIGATION_ERROR_HANDLER = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nclass NavigationTransitions {\n  currentNavigation = signal(null, {\n    ...(ngDevMode ? {\n      debugName: \"currentNavigation\"\n    } : {}),\n    equal: () => false\n  });\n  currentTransition = null;\n  lastSuccessfulNavigation = signal(null, ...(ngDevMode ? [{\n    debugName: \"lastSuccessfulNavigation\"\n  }] : []));\n  events = new Subject();\n  transitionAbortWithErrorSubject = new Subject();\n  configLoader = inject(RouterConfigLoader);\n  environmentInjector = inject(EnvironmentInjector);\n  destroyRef = inject(DestroyRef);\n  urlSerializer = inject(UrlSerializer);\n  rootContexts = inject(ChildrenOutletContexts);\n  location = inject(Location);\n  inputBindingEnabled = inject(INPUT_BINDER, {\n    optional: true\n  }) !== null;\n  titleStrategy = inject(TitleStrategy);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n    optional: true\n  });\n  navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n    optional: true\n  });\n  navigationId = 0;\n  get hasRequestedNavigation() {\n    return this.navigationId !== 0;\n  }\n  transitions;\n  afterPreactivation = () => of(void 0);\n  rootComponentType = null;\n  destroyed = false;\n  constructor() {\n    const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n    const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n    this.configLoader.onLoadEndListener = onLoadEnd;\n    this.configLoader.onLoadStartListener = onLoadStart;\n    this.destroyRef.onDestroy(() => {\n      this.destroyed = true;\n    });\n  }\n  complete() {\n    this.transitions?.complete();\n  }\n  handleNavigationRequest(request) {\n    const id = ++this.navigationId;\n    untracked(() => {\n      this.transitions?.next({\n        ...request,\n        extractedUrl: this.urlHandlingStrategy.extract(request.rawUrl),\n        targetSnapshot: null,\n        targetRouterState: null,\n        guards: {\n          canActivateChecks: [],\n          canDeactivateChecks: []\n        },\n        guardsResult: null,\n        id\n      });\n    });\n  }\n  setupNavigations(router) {\n    this.transitions = new BehaviorSubject(null);\n    return this.transitions.pipe(filter(t => t !== null), switchMap(overallTransitionState => {\n      let completedOrAborted = false;\n      const abortController = new AbortController();\n      const shouldContinueNavigation = () => {\n        return !completedOrAborted && this.currentTransition?.id === overallTransitionState.id;\n      };\n      return of(overallTransitionState).pipe(switchMap(t => {\n        if (this.navigationId > overallTransitionState.id) {\n          const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          return EMPTY;\n        }\n        this.currentTransition = overallTransitionState;\n        const lastSuccessfulNavigation = this.lastSuccessfulNavigation();\n        this.currentNavigation.set({\n          id: t.id,\n          initialUrl: t.rawUrl,\n          extractedUrl: t.extractedUrl,\n          targetBrowserUrl: typeof t.extras.browserUrl === 'string' ? this.urlSerializer.parse(t.extras.browserUrl) : t.extras.browserUrl,\n          trigger: t.source,\n          extras: t.extras,\n          previousNavigation: !lastSuccessfulNavigation ? null : {\n            ...lastSuccessfulNavigation,\n            previousNavigation: null\n          },\n          abort: () => abortController.abort()\n        });\n        const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n        const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n        if (!urlTransition && onSameUrlNavigation !== 'reload') {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n          t.resolve(false);\n          return EMPTY;\n        }\n        if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n          return of(t).pipe(switchMap(t => {\n            this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n            if (t.id !== this.navigationId) {\n              return EMPTY;\n            }\n            return Promise.resolve(t);\n          }), recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy, abortController.signal), tap(t => {\n            overallTransitionState.targetSnapshot = t.targetSnapshot;\n            overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n            this.currentNavigation.update(nav => {\n              nav.finalUrl = t.urlAfterRedirects;\n              return nav;\n            });\n            const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(routesRecognized);\n          }));\n        } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n          const {\n            id,\n            extractedUrl,\n            source,\n            restoredState,\n            extras\n          } = t;\n          const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n          this.events.next(navStart);\n          const targetSnapshot = createEmptyState(this.rootComponentType, this.environmentInjector).snapshot;\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetSnapshot,\n            urlAfterRedirects: extractedUrl,\n            extras: {\n              ...extras,\n              skipLocationChange: false,\n              replaceUrl: false\n            }\n          };\n          this.currentNavigation.update(nav => {\n            nav.finalUrl = extractedUrl;\n            return nav;\n          });\n          return of(overallTransitionState);\n        } else {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n          t.resolve(false);\n          return EMPTY;\n        }\n      }), map(t => {\n        const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n        this.events.next(guardsStart);\n        this.currentTransition = overallTransitionState = {\n          ...t,\n          guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n        };\n        return overallTransitionState;\n      }), checkGuards(evt => this.events.next(evt)), switchMap(t => {\n        overallTransitionState.guardsResult = t.guardsResult;\n        if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n          throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n        }\n        const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n        this.events.next(guardsEnd);\n        if (!shouldContinueNavigation()) {\n          return EMPTY;\n        }\n        if (!t.guardsResult) {\n          this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n          return EMPTY;\n        }\n        if (t.guards.canActivateChecks.length === 0) {\n          return of(t);\n        }\n        const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n        this.events.next(resolveStart);\n        if (!shouldContinueNavigation()) {\n          return EMPTY;\n        }\n        let dataResolved = false;\n        return of(t).pipe(resolveData(this.paramsInheritanceStrategy), tap({\n          next: () => {\n            dataResolved = true;\n            const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(resolveEnd);\n          },\n          complete: () => {\n            if (!dataResolved) {\n              this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n            }\n          }\n        }));\n      }), switchTap(t => {\n        const loadComponents = route => {\n          const loaders = [];\n          if (route.routeConfig?._loadedComponent) {\n            route.component = route.routeConfig?._loadedComponent;\n          } else if (route.routeConfig?.loadComponent) {\n            const injector = route._environmentInjector;\n            loaders.push(this.configLoader.loadComponent(injector, route.routeConfig).then(loadedComponent => {\n              route.component = loadedComponent;\n            }));\n          }\n          for (const child of route.children) {\n            loaders.push(...loadComponents(child));\n          }\n          return loaders;\n        };\n        const loaders = loadComponents(t.targetSnapshot.root);\n        return loaders.length === 0 ? of(t) : from(Promise.all(loaders).then(() => t));\n      }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n        const {\n          currentSnapshot,\n          targetSnapshot\n        } = overallTransitionState;\n        const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n        return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n      }), take(1), map(t => {\n        const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n        this.currentTransition = overallTransitionState = t = {\n          ...t,\n          targetRouterState\n        };\n        this.currentNavigation.update(nav => {\n          nav.targetRouterState = targetRouterState;\n          return nav;\n        });\n        this.events.next(new BeforeActivateRoutes());\n        if (!shouldContinueNavigation()) {\n          return;\n        }\n        new ActivateRoutes(router.routeReuseStrategy, overallTransitionState.targetRouterState, overallTransitionState.currentRouterState, evt => this.events.next(evt), this.inputBindingEnabled).activate(this.rootContexts);\n        if (!shouldContinueNavigation()) {\n          return;\n        }\n        completedOrAborted = true;\n        this.currentNavigation.update(nav => {\n          nav.abort = noop;\n          return nav;\n        });\n        this.lastSuccessfulNavigation.set(untracked(this.currentNavigation));\n        this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n        this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n        t.resolve(true);\n      }), takeUntil(abortSignalToObservable(abortController.signal).pipe(filter(() => !completedOrAborted && !overallTransitionState.targetRouterState), tap(() => {\n        this.cancelNavigationTransition(overallTransitionState, abortController.signal.reason + '', NavigationCancellationCode.Aborted);\n      }))), tap({\n        complete: () => {\n          completedOrAborted = true;\n        }\n      }), takeUntil(this.transitionAbortWithErrorSubject.pipe(tap(err => {\n        throw err;\n      }))), finalize(() => {\n        abortController.abort();\n        if (!completedOrAborted) {\n          const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n        }\n        if (this.currentTransition?.id === overallTransitionState.id) {\n          this.currentNavigation.set(null);\n          this.currentTransition = null;\n        }\n      }), catchError(e => {\n        completedOrAborted = true;\n        if (this.destroyed) {\n          overallTransitionState.resolve(false);\n          return EMPTY;\n        }\n        if (isNavigationCancelingError(e)) {\n          this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n          if (!isRedirectingNavigationCancelingError(e)) {\n            overallTransitionState.resolve(false);\n          } else {\n            this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n          }\n        } else {\n          const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n          try {\n            const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n            if (navigationErrorHandlerResult instanceof RedirectCommand) {\n              const {\n                message,\n                cancellationCode\n              } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n              this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n              this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n            } else {\n              this.events.next(navigationError);\n              throw e;\n            }\n          } catch (ee) {\n            if (this.options.resolveNavigationPromiseOnError) {\n              overallTransitionState.resolve(false);\n            } else {\n              overallTransitionState.reject(ee);\n            }\n          }\n        }\n        return EMPTY;\n      }));\n    }));\n  }\n  cancelNavigationTransition(t, reason, code) {\n    const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n    this.events.next(navCancel);\n    t.resolve(false);\n  }\n  isUpdatingInternalState() {\n    return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n  }\n  isUpdatedBrowserUrl() {\n    const currentBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n    const currentNavigation = untracked(this.currentNavigation);\n    const targetBrowserUrl = currentNavigation?.targetBrowserUrl ?? currentNavigation?.extractedUrl;\n    return currentBrowserUrl.toString() !== targetBrowserUrl?.toString() && !currentNavigation?.extras.skipLocationChange;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: NavigationTransitions,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: NavigationTransitions,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: NavigationTransitions,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => []\n});\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\n\nconst ROUTE_INJECTOR_CLEANUP = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'RouteInjectorCleanup' : '');\nfunction routeInjectorCleanup(routeReuseStrategy, routerState, config) {\n  const activeRoutes = new Set();\n  if (routerState.snapshot.root) {\n    collectDescendants(routerState.snapshot.root, activeRoutes);\n  }\n  const storedHandles = routeReuseStrategy.retrieveStoredRouteHandles?.() || [];\n  for (const handle of storedHandles) {\n    const internalHandle = handle;\n    if (internalHandle?.route?.value?.snapshot) {\n      for (const snapshot of internalHandle.route.value.snapshot.pathFromRoot) {\n        if (snapshot.routeConfig) {\n          activeRoutes.add(snapshot.routeConfig);\n        }\n      }\n    }\n  }\n  destroyUnusedInjectors(config, activeRoutes, routeReuseStrategy, false);\n}\nfunction collectDescendants(snapshot, activeRoutes) {\n  if (snapshot.routeConfig) {\n    activeRoutes.add(snapshot.routeConfig);\n  }\n  for (const child of snapshot.children) {\n    collectDescendants(child, activeRoutes);\n  }\n}\nfunction destroyUnusedInjectors(routes, activeRoutes, strategy, inheritedForceDestroy) {\n  for (const route of routes) {\n    const shouldDestroyCurrentRoute = inheritedForceDestroy || !!((route._injector || route._loadedInjector) && !activeRoutes.has(route) && (strategy.shouldDestroyInjector?.(route) ?? false));\n    if (route.children) {\n      destroyUnusedInjectors(route.children, activeRoutes, strategy, shouldDestroyCurrentRoute);\n    }\n    if (route.loadChildren && route._loadedRoutes) {\n      destroyUnusedInjectors(route._loadedRoutes, activeRoutes, strategy, shouldDestroyCurrentRoute);\n    }\n    if (shouldDestroyCurrentRoute) {\n      if (route._injector) {\n        route._injector.destroy();\n        route._injector = undefined;\n      }\n      if (route._loadedInjector) {\n        route._loadedInjector.destroy();\n        route._loadedInjector = undefined;\n      }\n    }\n  }\n}\n\nfunction destroyDetachedRouteHandle(handle) {\n  const internalHandle = handle;\n  if (internalHandle && internalHandle.componentRef) {\n    internalHandle.componentRef.destroy();\n  }\n}\nclass RouteReuseStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RouteReuseStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: RouteReuseStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultRouteReuseStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: RouteReuseStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultRouteReuseStrategy)\n    }]\n  }]\n});\nclass BaseRouteReuseStrategy {\n  shouldDetach(route) {\n    return false;\n  }\n  store(route, detachedTree) {}\n  shouldAttach(route) {\n    return false;\n  }\n  retrieve(route) {\n    return null;\n  }\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n  shouldDestroyInjector(route) {\n    return true;\n  }\n}\nclass DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultRouteReuseStrategy,\n    deps: null,\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: DefaultRouteReuseStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: DefaultRouteReuseStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nclass StateManager {\n  urlSerializer = inject(UrlSerializer);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  currentUrlTree = new UrlTree();\n  getCurrentUrlTree() {\n    return this.currentUrlTree;\n  }\n  rawUrlTree = this.currentUrlTree;\n  getRawUrlTree() {\n    return this.rawUrlTree;\n  }\n  createBrowserPath({\n    finalUrl,\n    initialUrl,\n    targetBrowserUrl\n  }) {\n    const rawUrl = finalUrl !== undefined ? this.urlHandlingStrategy.merge(finalUrl, initialUrl) : initialUrl;\n    const url = targetBrowserUrl ?? rawUrl;\n    const path = url instanceof UrlTree ? this.urlSerializer.serialize(url) : url;\n    return path;\n  }\n  commitTransition({\n    targetRouterState,\n    finalUrl,\n    initialUrl\n  }) {\n    if (finalUrl && targetRouterState) {\n      this.currentUrlTree = finalUrl;\n      this.rawUrlTree = this.urlHandlingStrategy.merge(finalUrl, initialUrl);\n      this.routerState = targetRouterState;\n    } else {\n      this.rawUrlTree = initialUrl;\n    }\n  }\n  routerState = createEmptyState(null, inject(EnvironmentInjector));\n  getRouterState() {\n    return this.routerState;\n  }\n  _stateMemento = this.createStateMemento();\n  get stateMemento() {\n    return this._stateMemento;\n  }\n  updateStateMemento() {\n    this._stateMemento = this.createStateMemento();\n  }\n  createStateMemento() {\n    return {\n      rawUrlTree: this.rawUrlTree,\n      currentUrlTree: this.currentUrlTree,\n      routerState: this.routerState\n    };\n  }\n  restoredState() {\n    return this.location.getState();\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: StateManager,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: StateManager,\n    providedIn: 'root',\n    useFactory: () => inject(HistoryStateManager)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: StateManager,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(HistoryStateManager)\n    }]\n  }]\n});\nclass HistoryStateManager extends StateManager {\n  currentPageId = 0;\n  lastSuccessfulId = -1;\n  get browserPageId() {\n    if (this.canceledNavigationResolution !== 'computed') {\n      return this.currentPageId;\n    }\n    return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n  }\n  registerNonRouterCurrentEntryChangeListener(listener) {\n    return this.location.subscribe(event => {\n      if (event['type'] === 'popstate') {\n        setTimeout(() => {\n          listener(event['url'], event.state, 'popstate');\n        });\n      }\n    });\n  }\n  handleRouterEvent(e, currentTransition) {\n    if (e instanceof NavigationStart) {\n      this.updateStateMemento();\n    } else if (e instanceof NavigationSkipped) {\n      this.commitTransition(currentTransition);\n    } else if (e instanceof RoutesRecognized) {\n      if (this.urlUpdateStrategy === 'eager') {\n        if (!currentTransition.extras.skipLocationChange) {\n          this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n        }\n      }\n    } else if (e instanceof BeforeActivateRoutes) {\n      this.commitTransition(currentTransition);\n      if (this.urlUpdateStrategy === 'deferred' && !currentTransition.extras.skipLocationChange) {\n        this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n      }\n    } else if (e instanceof NavigationCancel && !isRedirectingEvent(e)) {\n      this.restoreHistory(currentTransition);\n    } else if (e instanceof NavigationError) {\n      this.restoreHistory(currentTransition, true);\n    } else if (e instanceof NavigationEnd) {\n      this.lastSuccessfulId = e.id;\n      this.currentPageId = this.browserPageId;\n    }\n  }\n  setBrowserUrl(path, {\n    extras,\n    id\n  }) {\n    const {\n      replaceUrl,\n      state\n    } = extras;\n    if (this.location.isCurrentPathEqualTo(path) || !!replaceUrl) {\n      const currentBrowserPageId = this.browserPageId;\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, currentBrowserPageId)\n      };\n      this.location.replaceState(path, '', newState);\n    } else {\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, this.browserPageId + 1)\n      };\n      this.location.go(path, '', newState);\n    }\n  }\n  restoreHistory(navigation, restoringFromCaughtError = false) {\n    if (this.canceledNavigationResolution === 'computed') {\n      const currentBrowserPageId = this.browserPageId;\n      const targetPagePosition = this.currentPageId - currentBrowserPageId;\n      if (targetPagePosition !== 0) {\n        this.location.historyGo(targetPagePosition);\n      } else if (this.getCurrentUrlTree() === navigation.finalUrl && targetPagePosition === 0) {\n        this.resetInternalState(navigation);\n        this.resetUrlToCurrentUrlTree();\n      } else ;\n    } else if (this.canceledNavigationResolution === 'replace') {\n      if (restoringFromCaughtError) {\n        this.resetInternalState(navigation);\n      }\n      this.resetUrlToCurrentUrlTree();\n    }\n  }\n  resetInternalState({\n    finalUrl\n  }) {\n    this.routerState = this.stateMemento.routerState;\n    this.currentUrlTree = this.stateMemento.currentUrlTree;\n    this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, finalUrl ?? this.rawUrlTree);\n  }\n  resetUrlToCurrentUrlTree() {\n    this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n  }\n  generateNgRouterState(navigationId, routerPageId) {\n    if (this.canceledNavigationResolution === 'computed') {\n      return {\n        navigationId,\n        ɵrouterPageId: routerPageId\n      };\n    }\n    return {\n      navigationId\n    };\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: HistoryStateManager,\n    deps: null,\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: HistoryStateManager,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: HistoryStateManager,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return 0;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? 2 : 1;\n  }), filter(result => result !== 2), take(1)).subscribe(() => {\n    action();\n  });\n}\n\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\nclass Router {\n  get currentUrlTree() {\n    return this.stateManager.getCurrentUrlTree();\n  }\n  get rawUrlTree() {\n    return this.stateManager.getRawUrlTree();\n  }\n  disposed = false;\n  nonRouterCurrentEntryChangeSubscription;\n  console = inject(_Console);\n  stateManager = inject(StateManager);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  pendingTasks = inject(_PendingTasksInternal);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  navigationTransitions = inject(NavigationTransitions);\n  urlSerializer = inject(UrlSerializer);\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  injector = inject(EnvironmentInjector);\n  _events = new Subject();\n  get events() {\n    return this._events;\n  }\n  get routerState() {\n    return this.stateManager.getRouterState();\n  }\n  navigated = false;\n  routeReuseStrategy = inject(RouteReuseStrategy);\n  injectorCleanup = inject(ROUTE_INJECTOR_CLEANUP, {\n    optional: true\n  });\n  onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n  config = inject(ROUTES, {\n    optional: true\n  })?.flat() ?? [];\n  componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n    optional: true\n  });\n  currentNavigation = this.navigationTransitions.currentNavigation.asReadonly();\n  constructor() {\n    this.resetConfig(this.config);\n    this.navigationTransitions.setupNavigations(this).subscribe({\n      error: e => {}\n    });\n    this.subscribeToNavigationEvents();\n  }\n  eventsSubscription = new Subscription();\n  subscribeToNavigationEvents() {\n    const subscription = this.navigationTransitions.events.subscribe(e => {\n      try {\n        const currentTransition = this.navigationTransitions.currentTransition;\n        const currentNavigation = untracked(this.navigationTransitions.currentNavigation);\n        if (currentTransition !== null && currentNavigation !== null) {\n          this.stateManager.handleRouterEvent(e, currentNavigation);\n          if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n            this.navigated = true;\n          } else if (e instanceof NavigationEnd) {\n            this.navigated = true;\n            this.injectorCleanup?.(this.routeReuseStrategy, this.routerState, this.config);\n          } else if (e instanceof RedirectRequest) {\n            const opts = e.navigationBehaviorOptions;\n            const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n            const extras = {\n              scroll: currentTransition.extras.scroll,\n              browserUrl: currentTransition.extras.browserUrl,\n              info: currentTransition.extras.info,\n              skipLocationChange: currentTransition.extras.skipLocationChange,\n              replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n              ...opts\n            };\n            this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n              resolve: currentTransition.resolve,\n              reject: currentTransition.reject,\n              promise: currentTransition.promise\n            });\n          }\n        }\n        if (isPublicRouterEvent(e)) {\n          this._events.next(e);\n        }\n      } catch (e) {\n        this.navigationTransitions.transitionAbortWithErrorSubject.next(e);\n      }\n    });\n    this.eventsSubscription.add(subscription);\n  }\n  resetRootComponentType(rootComponentType) {\n    this.routerState.root.component = rootComponentType;\n    this.navigationTransitions.rootComponentType = rootComponentType;\n  }\n  initialNavigation() {\n    this.setUpLocationChangeListener();\n    if (!this.navigationTransitions.hasRequestedNavigation) {\n      this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n    }\n  }\n  setUpLocationChangeListener() {\n    this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state, source) => {\n      this.navigateToSyncWithBrowser(url, source, state);\n    });\n  }\n  navigateToSyncWithBrowser(url, source, state) {\n    const extras = {\n      replaceUrl: true\n    };\n    const restoredState = state?.navigationId ? state : null;\n    if (state) {\n      const stateCopy = {\n        ...state\n      };\n      delete stateCopy.navigationId;\n      delete stateCopy.ɵrouterPageId;\n      if (Object.keys(stateCopy).length !== 0) {\n        extras.state = stateCopy;\n      }\n    }\n    const urlTree = this.parseUrl(url);\n    this.scheduleNavigation(urlTree, source, restoredState, extras).catch(e => {\n      if (this.disposed) {\n        return;\n      }\n      this.injector.get(_INTERNAL_APPLICATION_ERROR_HANDLER)(e);\n    });\n  }\n  get url() {\n    return this.serializeUrl(this.currentUrlTree);\n  }\n  getCurrentNavigation() {\n    return untracked(this.navigationTransitions.currentNavigation);\n  }\n  get lastSuccessfulNavigation() {\n    return this.navigationTransitions.lastSuccessfulNavigation;\n  }\n  resetConfig(config) {\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n    this.config = config.map(standardizeConfig);\n    this.navigated = false;\n  }\n  ngOnDestroy() {\n    this.dispose();\n  }\n  dispose() {\n    this._events.unsubscribe();\n    this.navigationTransitions.complete();\n    this.nonRouterCurrentEntryChangeSubscription?.unsubscribe();\n    this.nonRouterCurrentEntryChangeSubscription = undefined;\n    this.disposed = true;\n    this.eventsSubscription.unsubscribe();\n  }\n  createUrlTree(commands, navigationExtras = {}) {\n    const {\n      relativeTo,\n      queryParams,\n      fragment,\n      queryParamsHandling,\n      preserveFragment\n    } = navigationExtras;\n    const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n    let q = null;\n    switch (queryParamsHandling ?? this.options.defaultQueryParamsHandling) {\n      case 'merge':\n        q = {\n          ...this.currentUrlTree.queryParams,\n          ...queryParams\n        };\n        break;\n      case 'preserve':\n        q = this.currentUrlTree.queryParams;\n        break;\n      default:\n        q = queryParams || null;\n    }\n    if (q !== null) {\n      q = this.removeEmptyProps(q);\n    }\n    let relativeToUrlSegmentGroup;\n    try {\n      const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n      relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n    } catch (e) {\n      if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n        commands = [];\n      }\n      relativeToUrlSegmentGroup = this.currentUrlTree.root;\n    }\n    return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null, this.urlSerializer);\n  }\n  navigateByUrl(url, extras = {\n    skipLocationChange: false\n  }) {\n    const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n    const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n    return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n  }\n  navigate(commands, extras = {\n    skipLocationChange: false\n  }) {\n    validateCommands(commands);\n    return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n  }\n  serializeUrl(url) {\n    return this.urlSerializer.serialize(url);\n  }\n  parseUrl(url) {\n    try {\n      return this.urlSerializer.parse(url);\n    } catch (e) {\n      this.console.warn(_formatRuntimeError(4018, ngDevMode && `Error parsing URL ${url}. Falling back to '/' instead. \\n` + e));\n      return this.urlSerializer.parse('/');\n    }\n  }\n  isActive(url, matchOptions) {\n    let options;\n    if (matchOptions === true) {\n      options = {\n        ...exactMatchOptions\n      };\n    } else if (matchOptions === false) {\n      options = {\n        ...subsetMatchOptions\n      };\n    } else {\n      options = matchOptions;\n    }\n    if (isUrlTree(url)) {\n      return containsTree(this.currentUrlTree, url, options);\n    }\n    const urlTree = this.parseUrl(url);\n    return containsTree(this.currentUrlTree, urlTree, options);\n  }\n  removeEmptyProps(params) {\n    return Object.entries(params).reduce((result, [key, value]) => {\n      if (value !== null && value !== undefined) {\n        result[key] = value;\n      }\n      return result;\n    }, {});\n  }\n  scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n    if (this.disposed) {\n      return Promise.resolve(false);\n    }\n    let resolve;\n    let reject;\n    let promise;\n    if (priorPromise) {\n      resolve = priorPromise.resolve;\n      reject = priorPromise.reject;\n      promise = priorPromise.promise;\n    } else {\n      promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n      });\n    }\n    const taskId = this.pendingTasks.add();\n    afterNextNavigation(this, () => {\n      queueMicrotask(() => this.pendingTasks.remove(taskId));\n    });\n    this.navigationTransitions.handleNavigationRequest({\n      source,\n      restoredState,\n      currentUrlTree: this.currentUrlTree,\n      currentRawUrl: this.currentUrlTree,\n      rawUrl,\n      extras,\n      resolve: resolve,\n      reject: reject,\n      promise,\n      currentSnapshot: this.routerState.snapshot,\n      currentRouterState: this.routerState\n    });\n    return promise.catch(e => {\n      return Promise.reject(e);\n    });\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: Router,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.1.1\",\n    ngImport: i0,\n    type: Router,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.1.1\",\n  ngImport: i0,\n  type: Router,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => []\n});\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new _RuntimeError(4008, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\n\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, BeforeActivateRoutes, CREATE_VIEW_TRANSITION, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, IMPERATIVE_NAVIGATION, INPUT_BINDER, NAVIGATION_ERROR_HANDLER, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NavigationTransitions, OutletContext, PRIMARY_OUTLET, ROUTER_CONFIGURATION, ROUTER_OUTLET_DATA, ROUTES, ROUTE_INJECTOR_CLEANUP, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, RoutedComponentInputBinder, Router, RouterConfigLoader, RouterEvent, RouterOutlet, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, StateManager, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VIEW_TRANSITION_OPTIONS, afterNextNavigation, convertToParamMap, createUrlTreeFromSnapshot, createViewTransition, defaultUrlMatcher, destroyDetachedRouteHandle, exactMatchOptions, isActive, isRedirectingEvent, isUrlTree, loadChildren, routeInjectorCleanup, stringifyEvent, subsetMatchOptions, ɵEmptyOutletComponent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}